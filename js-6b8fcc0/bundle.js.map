{"version":3,"file":"bundle.js","sources":["../../../src/config/routes.js","../../../src/components/views/PageNotFound.html","../../../src/components/views/PageAssetsLoading.html","../../../src/components/views/Dashboard.html","../../../src/components/helpers/RouteHandler.html","../../../src/models/dashboard.js","../../../src/components/helpers/Login.html","../../../src/components/helpers/MainNavigation.html","../../../src/components/App.html","../../../node_modules/svelte/store.js","../../../src/services/store.js","../../../node_modules/store2/dist/store2.js","../../../src/services/db.js","../../../src/services/state.js","../../../src/main.js"],"sourcesContent":["var routes = ['profile', 'settings'];\r\n\r\nvar routeMap = {};\r\n\r\nfor (var i = 0; i < routes.length; i++) {\r\n  var route = routes[i];\r\n  routeMap[route] = [{ pattern: '/', 'view': route.charAt(0).toUpperCase() + route.slice(1) }]\r\n}\r\n\r\nrouteMap['dashboard'] = [\r\n  { 'pattern': '/', 'view': 'Dashboard' }\r\n];\r\n\r\nrouteMap['search'] = [\r\n  { 'pattern': '/', 'view': 'Search' }\r\n];\r\n\r\nrouteMap['prescriptions'] = [\r\n  { 'pattern': '/', 'view': 'Prescriptions' },\r\n  { 'pattern': '/(\\\\d+)/?([^/]*)?/?([^/]*)?/?$', 'view': 'Prescriptions', 'type': 'regex' },\r\n  { 'pattern': '/view/(\\\\d+)$', 'view': 'ViewPrescription', 'type': 'regex' },\r\n  \r\n];\r\n\r\nrouteMap['users'] = [\r\n  { 'pattern': '/', 'view': 'Users' },\r\n  { 'pattern': '/(\\\\d+)/?([^/]*)?/?([^/]*)?/?$', 'view': 'Users', 'type': 'regex' },\r\n  { 'pattern': '/view/(\\\\d+)$', 'view': 'ViewUser', 'type': 'regex' },\r\n  { 'pattern': '/add', 'view': 'AddUser' }\r\n];\r\n\r\nrouteMap['remedies'] = [\r\n  { 'pattern': '/', 'view': 'Remedies' },\r\n  { 'pattern': '/(\\\\d+)/?([^/]*)?/?([^/]*)?/?$', 'view': 'Remedies', 'type': 'regex' },\r\n  { 'pattern': '/view/(\\\\d+)$', 'view': 'ViewRemedy', 'type': 'regex' },\r\n  { 'pattern': '/singleview/(\\\\d+)$', 'view': 'SingleView', 'type': 'regex' },\r\n  { 'pattern': '/add', 'view': 'AddRemedy' }\r\n];\r\n\r\nrouteMap['patients'] = [\r\n  { 'pattern': '/', 'view': 'Patients' },\r\n  { 'pattern': '/(\\\\d+)/?([^/]*)?/?([^/]*)?/?$', 'view': 'Patients', 'type': 'regex' },\r\n  { 'pattern': '/view/(\\\\d+)$', 'view': 'ViewPatient', 'type': 'regex' },\r\n  { 'pattern': '/add', 'view': 'AddPatient' }\r\n];\r\n\r\nrouteMap['history'] = [\r\n  { 'pattern': '/', 'view': 'Histories' },\r\n  { 'pattern': '/(\\\\d+)/?([^/]*)?/?([^/]*)?/?$', 'view': 'Histories', 'type': 'regex' },\r\n  { 'pattern': '/view/(\\\\d+)$', 'view': 'ViewHistory', 'type': 'regex' },\r\n  { 'pattern': '/add', 'view': 'AddHistory' }\r\n];\r\n\r\nexport default routeMap;\r\n","<div class=\"page-content\">\r\n  <div class=\"inner-content\">\r\n    <Transition type=\"fly\" y=\"{20}\">\r\n      <Message type=\"danger\" size=\"large\">\r\n        <h1 class=\"has-text-centered title has-text-danger\">\r\n          <Icon size=\"large\" icon=\"chain-broken\"/>\r\n          <br>\r\n          404 Error\r\n        </h1>\r\n        <h4 class=\"has-text-centered subtitle has-text-danger\">The page you requested could not be found.</h4>\r\n      </Message>\r\n    </Transition>\r\n  </div>\r\n</div>\r\n\r\n<script>\r\n  import { Icon, Message } from '@kws3/helpers';\r\n  import Transition from '@kws3/transitions';\r\n  import Router from '../../services/router';\r\n  export default {\r\n    components:{\r\n      Icon,\r\n      Message,\r\n      Transition\r\n    },\r\n    computed: {\r\n      has_transition({ $settings, transition }){\r\n        if(typeof transition != 'undefined'){\r\n          return transition;\r\n        }else{\r\n          return $settings.transition;\r\n        }\r\n      },\r\n      is_redirect: ({$user}) => {\r\n       if($user.should_change_password){\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    },\r\n    data: function () {\r\n      return {\r\n        is_redirect:false\r\n      }\r\n    },\r\n    onstate({ changed, current, previous }) {\r\n      var self = this;\r\n      if(changed.$user){\r\n        self.redirectToProfile();\r\n      }\r\n    },\r\n    oncreate:function(){\r\n      var self = this;\r\n    },\r\n    methods: {\r\n        redirectToProfile(){\r\n          var self = this;\r\n          var {is_redirect} = self.get();\r\n          if(is_redirect){\r\n            Router.navigate('profile');\r\n          }\r\n        }\r\n    }\r\n  }\r\n\r\n</script>","<div class=\"page-content\">\r\n\r\n    <PageTitle {page}></PageTitle>\r\n\r\n    <ViewScaffold {is_loading}>\r\n      <Message color=\"danger\">\r\n        <p>It seems like assets for this page could not be loaded.</p>\r\n        <p><br>You can wait a few seconds extra and see if it works.</p>\r\n        <p>If not, reload the admin panel, there may have been an update in the background.</p>\r\n      </Message>\r\n    </ViewScaffold>\r\n</div>\r\n\r\n<script>\r\n  import ViewScaffold from '../helpers/ViewScaffold.html';\r\n  import PageTitle from '../helpers/PageTitle.html';\r\n  import {Message} from '@kws3/helpers';\r\n  export default {\r\n    components:{\r\n      ViewScaffold, PageTitle, Message\r\n    },\r\n    data(){\r\n      return{\r\n        is_loading: true,\r\n        page: {\r\n          title: 'Loading Assets',\r\n          subtitle: 'Please wait...',\r\n          icon: 'dot-circle-o'\r\n        }\r\n      }\r\n    },\r\n    oncreate(){\r\n      this.timeout = setTimeout(() => {\r\n\r\n        let { is_loading, page } = this.get();\r\n\r\n        is_loading = false;\r\n        page.title = \"Error\";\r\n        page.subtitle = \"Failed to load assets\";\r\n\r\n        this.set({ is_loading, page })\r\n      }, 10000);\r\n    },\r\n    ondestroy(){\r\n      this && this.timeout && clearTimeout(this.timeout)\r\n    }\r\n  }\r\n</script>","<div class=\"page-content\">\r\n\r\n  <ViewScaffold {is_loading} {is_error} {error_message}>\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-12\">\r\n        <Panel title=\"Symptoms Writting Guideline\">\r\n          <Message color=\"info\">\r\n            {#each Object.entries(short_meanings) as [key, value]}\r\n              {key} = {value}\r\n            {/each}\r\n          </Message>\r\n        </Panel>\r\n      </div>\r\n    </div>\r\n\r\n  </ViewScaffold>\r\n</div>\r\n\r\n<script type=\"text/javascript\">\r\n\r\n  import Model from '../../models/dashboard';\r\n  import Access from '../../services/access';\r\n  import { Icon, Panel, Notification, Loader, Message } from '@kws3/helpers';\r\n  import ViewScaffold from '../helpers/ViewScaffold.html';\r\n\r\n  export default {\r\n    components: {\r\n      ViewScaffold,Icon, Panel, Notification, Loader, Message,\r\n\r\n    },\r\n    data:function(){\r\n      return {\r\n        tracker: {\r\n          saving: false,\r\n          saved: false,\r\n          error: false\r\n        },\r\n        is_loading: true,\r\n        is_error: false,\r\n        meta:{},\r\n        error_message: '',\r\n        short_meanings: {\r\n          'Aggravation': 'agg.'\r\n        }\r\n      };\r\n    },\r\n    computed: {\r\n      is_admin_user:({ $role }) => $role == 'A' || $role == 'U',\r\n\r\n    },\r\n    oncreate: function(){\r\n      var self = this;\r\n      self.set({is_loading: false})\r\n    }\r\n  }\r\n</script>","<div ref:routeOutput class=\"app-content\">\r\n  <svelte:component this={views[$nav.activeView]} on:updateLoggedIn on:hideSidebar  />\r\n</div>\r\n\r\n\r\n<script>\r\n\r\n  import Routes from '../../config/routes.js';\r\n  import Router from '../../services/router.js';\r\n\r\n  import PageNotFound from '../views/PageNotFound.html';\r\n  import PageAssetsLoading from '../views/PageAssetsLoading.html';\r\n\r\n  import Dashboard from '../views/Dashboard.html';\r\n\r\n  export default {\r\n    data(){\r\n      return {\r\n        views: {\r\n          PageNotFound,\r\n          Dashboard,\r\n          PageAssetsLoading\r\n        },\r\n        lazyViews:{\r\n          Profile: () => import('../views/Profile.html'),\r\n          Settings: () => import('../views/Settings.html'),\r\n\r\n          Users: () => import('../views/Users.html'),\r\n          AddUser: () => import('../views/AddUser.html'),\r\n          ViewUser: () => import('../views/ViewUser.html'),\r\n\r\n          Remedies: () => import('../views/remedies/Remedies.html'),\r\n          ViewRemedy: () => import('../views/remedies/ViewRemedy.html'),\r\n          AddRemedy: () => import('../views/remedies/AddRemedy.html'),\r\n          SingleView: () => import('../views/remedies/helpers/SingleView.html'),\r\n\r\n          Patients: () => import('../views/patients/Patients.html'),\r\n          ViewPatient: () => import('../views/patients/ViewPatient.html'),\r\n          AddPatient: () => import('../views/patients/AddPatient.html'),\r\n\r\n          Histories: () => import('../views/casehistory/Histories.html'),\r\n          ViewHistory: () => import('../views/casehistory/ViewHistory.html'),\r\n          AddHistory: () => import('../views/casehistory/AddHistory.html'),\r\n\r\n          Search: () => import('../views/search/Search.html'),\r\n\r\n          Prescriptions: () => import('../views/prescription/Prescriptions.html'),\r\n          ViewPrescription: () => import('../views/prescription/ViewPrescription.html'),\r\n        }\r\n      }\r\n    },\r\n    oncreate(){\r\n      this.init();\r\n    },\r\n    methods:{\r\n      loadQueuedView(view){\r\n        var { lazyViews } = this.get();\r\n        if(typeof lazyViews[view] != 'undefined'){\r\n          var viewPromise = lazyViews[view];\r\n          viewPromise()\r\n          .then((mod) => {\r\n            var { views } = this.get();\r\n            views[view] = mod.default ? mod.default : mod;\r\n            //set it for later navigations to samepage\r\n            this.set({views});\r\n\r\n            //check if we are still on same page\r\n            var { nav } = this.store.get();\r\n            if(nav.shouldBeView == view){\r\n              nav.activeView = view;\r\n              //update the page, as we are still on the same page\r\n              this.store.set({nav});\r\n            }\r\n          })\r\n          .catch((e) => {\r\n            console.log(e, 'Module for '+view+' not found');\r\n          })\r\n        }\r\n      },\r\n      init(){\r\n        this.on('routeChange', (r) => {\r\n          var view = r.view,\r\n          { nav } = this.store.get(),\r\n          { views, lazyViews } = this.get(),\r\n          currentView = nav.activeView,\r\n          shouldBeView = view;\r\n\r\n          if(view == '404'){\r\n            view = 'PageNotFound';\r\n          }else if(typeof views[view] == 'undefined'){\r\n            if(typeof lazyViews[view] == 'undefined'){\r\n              view = 'PageNotFound';\r\n            }else{\r\n              this.loadQueuedView(view);\r\n              view = 'PageAssetsLoading';\r\n            }\r\n          }\r\n\r\n          nav = {\r\n            activeView: view,\r\n            shouldBeView: shouldBeView,\r\n            activeTab: r.section ? r.section : view,\r\n            params: r.params\r\n          };\r\n\r\n          this.store.set({ nav });\r\n\r\n          this.fire('hideSidebar');\r\n        });\r\n\r\n        Router.init(this, Routes, 'dashboard');\r\n      }\r\n    }\r\n  }\r\n\r\n</script>","import baseModel from './basemodel.js';\r\nimport Net from '../services/net';\r\n\r\nexport default new class extends baseModel {\r\n  constructor() {\r\n    super();\r\n    this.apiEndpoint = '/dashboard';\r\n  }\r\n};","<div id=\"login\" class=\"hero is-fullheight {show ? 'is-showing' : ''} {loading ? 'is-loading' : ''}\" data-cy=\"login\">\r\n  <div class=\"hero-body\">\r\n    <div class=\"columns\">\r\n\r\n      <div class=\"column is-half logo is-text-centered\">\r\n        <div class=\"is-overlay\" style=\"background-image: url({randomBackground});\"></div>\r\n        <img alt=\"logo\" src=\"images/logo.png\">\r\n      </div>\r\n\r\n      <div class=\"column is-half login-box\">\r\n        {#if has_error}\r\n          <div class=\"message is-danger\">\r\n            <div class=\"message-body\">{@html error_message}</div>\r\n          </div>\r\n        {:else}\r\n          <div class=\"form-holder {shaking ? 'is-shaking' : ''}\">\r\n            <form on:submit=\"fire('login', event)\">\r\n              <div class=\"field\">\r\n                <div class=\"control has-icons-left\">\r\n                  <input class=\"input is-medium\" type=\"text\" name=\"username\" placeholder=\"Username\" bind:value=\"username\" data-cy=\"username\">\r\n                  <Icon icon=\"user\" icon_class=\"is-left\" />\r\n                </div>\r\n                </div>\r\n              <div class=\"field\">\r\n                <div class=\"control has-icons-left\">\r\n                  <input class=\"input is-medium\" type=\"password\" name=\"password\" placeholder=\"Password\" bind:value=\"password\" data-cy=\"password\">\r\n                  <Icon icon=\"key\" icon_class=\"is-left\" />\r\n                </div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"control\">\r\n                  <button type=\"submit\" class=\"button is-medium is-fullwidth is-primary {validating ? 'is-loading' : ''}\" disabled=\"{ !isReady }\" data-cy=\"login-button\">\r\n                    Log In\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        {/if}\r\n        <p><span class=\"app-loader\">Loading ...</span></p>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<script>\r\n\r\n  import { Icon } from '@kws3/helpers';\r\n  export default {\r\n    components: {\r\n      Icon,\r\n    },\r\n    data(){\r\n      return {\r\n        validating: false,\r\n        shaking: false,\r\n        username: '',\r\n        password: '',\r\n        error_message: '',\r\n        has_error: false,\r\n        images:[\r\n          'bg11.jpg',\r\n          'bg1.jpg',\r\n          'bg2.jpg',\r\n          'bg3.jpg',\r\n          'bg9.jpg',\r\n          'bg10.jpg'\r\n        ]\r\n      }\r\n    },\r\n    computed:{\r\n      randomBackground({images}){\r\n        var min = 0,\r\n        max = images.length,\r\n        idx = Math.floor(Math.random() * (max - min + 1)) + min;\r\n        return '/images/' + images[idx];\r\n      },\r\n      show({ $is_logged_in, $is_loading }){\r\n        return (!$is_logged_in || $is_loading);\r\n      },\r\n      loading({ $is_loading }){\r\n        return $is_loading;\r\n      },\r\n      isReady({username, password, validating}) {\r\n        return (username != '' && password != '') || validating;\r\n      }\r\n    },\r\n    oncreate(){\r\n      this.on('login', (e) => {\r\n        e.preventDefault();\r\n        var { validating } = this.get();\r\n        if(!validating){\r\n          this.set({validating:true});\r\n          this.fire('validatelogin', this);\r\n        }\r\n      });\r\n    },\r\n    methods:{\r\n      valid(){\r\n        this.set({\r\n          validating: false,\r\n          username : '',\r\n          password : ''\r\n        });\r\n      },\r\n      invalid(){\r\n        this.set({\r\n          validating: false,\r\n          shaking : true\r\n        });\r\n        setTimeout(() => {\r\n          this.set({\r\n            shaking: false,\r\n            password : ''\r\n          })\r\n        }, 500);\r\n      }\r\n    }\r\n  };\r\n</script>","<div id=\"mainNav\" data-cy=\"main-nav\" class=\"has-custom-scrollbar\">\r\n  <div class=\"tabs is-vertical has-block-icons\">\r\n    <ul>\r\n    {#if $is_logged_in}\r\n      {#each sections as section, k (section.name)}\r\n        <li class=\"{$nav.activeTab == section.name ? 'is-active' : ''}\">\r\n          <a href=\"#{section.url}\" data-cy=\"{section.url}\"><Icon icon=\"{section.icon}\" size=\"medium\" /> <span class=\"nav-item-name\">{section.title}</span></a>\r\n        </li>\r\n      {/each}\r\n    {/if}\r\n    </ul>\r\n  </div>\r\n</div>\r\n\r\n<script>\r\n\r\n  import { Icon } from '@kws3/helpers';\r\n\r\n  export default {\r\n    components: {\r\n      Icon,\r\n    },\r\n    computed:{\r\n      sections({ $mainSections, $nav }){\r\n        var ret = [],\r\n        active = [];\r\n\r\n        for (var k in $mainSections) {\r\n          if ($mainSections.hasOwnProperty(k)) {\r\n            var element = $mainSections[k],\r\n            item = {\r\n              'name':k,\r\n              'title': element.title ? element.title : k,\r\n              'url':element.url,\r\n              'icon':element.icon,\r\n              'visible': element.visible\r\n            };\r\n            if(element.visible !== false){\r\n              ret.push(item);\r\n            }\r\n          }\r\n        }\r\n\r\n        return ret;\r\n      }\r\n    }\r\n  }\r\n</script>","<div id=\"mainApp\">\r\n\r\n  <div id=\"updateReady\" class=\"{$update_ready ? 'is-update-ready' : ''}\">There is an update available, please reload window to activate updated version. &nbsp;&nbsp;&nbsp;\r\n    <button class=\"button is-small is-light {$update_ready ? 'is-pulsing' : ''}\"\r\n      onclick=\"window.location.reload();\">\r\n      <strong>Reload Now</strong>\r\n    </button>\r\n  </div>\r\n\r\n  <div id=\"mainContent\" class=\"{$update_ready ? 'is-update-ready' : ''} {app_state.show_sidebar ? 'is-sidebar-showing' : ''}\">\r\n\r\n\r\n\r\n    <div id=\"contentArea\" on:scroll=\"scrolling(this)\">\r\n      <div id=\"gradientHilight\"></div>\r\n      {#if !$is_loading}\r\n        <RouteHandler on:updateLoggedIn on:hideSidebar />\r\n        <!-- <Dashboard /> -->\r\n\r\n      {/if}\r\n    </div>\r\n\r\n    <div id=\"header\" class=\"level is-mobile {scrollTop > 30 ? 'has-content-under' : ''}\">\r\n      <div class=\"level-left\">\r\n        <div class=\"level-item logo-area\">\r\n          <button class=\"button navbar-burger\r\n          is-hidden-tablet is-hidden-desktop is-hidden-widescreen is-hidden-fullhd {app_state.show_sidebar ? 'is-active' : ''}\"\r\n            on:click=\"fire('toggleSidebar')\">\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n          </button>\r\n          <div class=\"logo-holder\">\r\n            <img class=\"logo\" src=\"images/logo.png\" alt=\"logo\">\r\n            <span class=\"env-marker\">{$ENV_MARKER}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      <div class=\"level-right\">\r\n        <div class=\"level-item\" style=\"margin-right:-0.5rem\">\r\n\r\n          <div class=\"dropdown is-hoverable is-right\">\r\n            <div class=\"dropdown-trigger\">\r\n\r\n              <div class=\"media\">\r\n                <div class=\"media-left\">\r\n                  {#if $user && $user.avatar}\r\n                  <figure class=\"image is-32x32\">\r\n                    <img alt=\"\" src=\"{$user && $user.avatar}\">\r\n                  </figure>\r\n                  {/if}\r\n                </div>\r\n                <div class=\"media-content\" style=\"overflow: hidden\">\r\n                  <span class=\"is-block\" style=\"line-height:1.3rem\" data-cy=\"user-name-header\">{$user && $user.name} {$user && $user.surname}</span>\r\n                  <small class=\"is-block\" data-cy=\"user-role\">\r\n                    {userRoleName}\r\n                  </small>\r\n                </div>\r\n                <div class=\"media-right\">\r\n                  <Icon icon=\"angle-down\" />\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div class=\"dropdown-menu\">\r\n              <div class=\"dropdown-content\">\r\n                <a href=\"#settings/\" class=\"dropdown-item\">\r\n                  <Icon icon=\"cog\" />\r\n                  <span>Settings</span>\r\n                </a>\r\n                <a href=\"#profile/\" class=\"dropdown-item\" data-cy=\"profile\">\r\n                  <Icon icon=\"user-circle-o\" />\r\n                  <span>My Profile</span>\r\n                </a>\r\n\r\n                <hr class=\"dropdown-divider\">\r\n\r\n                <a href=\"#logout\" class=\"dropdown-item\" on:click=\"fire('logout', event)\" data-cy=\"logout\">\r\n                  <Icon icon=\"sign-out\" />\r\n                  <span>Log out</span>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <MainNavigation />\r\n\r\n    <div id=\"modals\">\r\n      <div class=\"modal {app_state.show_duplicate_login_modal ? 'is-active' : ''}\">\r\n        <div class=\"modal-background\"></div>\r\n        <div class=\"modal-content\">\r\n          <div class=\"box\">\r\n            <h2 class=\"subtitle is-4\">You have logged in on another device</h2>\r\n            <p>Your session is no longer valid on this device.\r\n              <br>\r\n              <br>\r\n            </p>\r\n            <p>\r\n              <small>\r\n                <em>You may only log in from one device at a time.\r\n                  <br> If you log in on this device, you will be logged out of the other device.</em>\r\n              </small>\r\n            </p>\r\n\r\n            <hr class=\"is-small\" />\r\n\r\n            <div class=\"field is-grouped is-grouped-right\">\r\n              <div class=\"control\">\r\n                <button class=\"button is-info is-pulled-right\" on:click=\"fire('logout', event)\">Log back in</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n<Login on:validatelogin />\r\n\r\n<script>\r\n  import RouteHandler from './helpers/RouteHandler.html';\r\n  import { Icon } from '@kws3/helpers';\r\n  import Login from './helpers/Login.html';\r\n  import MainNavigation from './helpers/MainNavigation.html';\r\n  import Dashboard from './views/Dashboard.html';\r\n\r\n  export default {\r\n    components: {\r\n      RouteHandler, Login, Icon, MainNavigation\r\n    },\r\n    data(){\r\n      return {\r\n        app_state: {\r\n          show_duplicate_login_modal: false,\r\n          show_sidebar: false\r\n        },\r\n        scrollTop: 0\r\n      }\r\n    },\r\n    computed: {\r\n      userRoleName({ $user }) {\r\n        if ($user && $user.role) {\r\n          switch ($user.role) {\r\n            case 'SA':\r\n              return 'Super Admin';\r\n              break;\r\n            case 'SU':\r\n              return 'Super User';\r\n              break;\r\n          }\r\n        }\r\n        return '';\r\n      }\r\n    },\r\n    oncreate() {\r\n      var self = this;\r\n      self.on('logout', function(e){\r\n        e.preventDefault();\r\n        self.fire('logout');\r\n      });\r\n    },\r\n    methods:{\r\n      scrolling(el){\r\n        this.set({scrollTop: el.scrollTop})\r\n      }\r\n    }\r\n  };\r\n</script>","import {\n\tassign,\n\tblankObject,\n\t_differs,\n\t_differsImmutable,\n\tget,\n\ton,\n\tfire\n} from './shared.js';\n\nfunction Store(state, options) {\n\tthis._handlers = {};\n\tthis._dependents = [];\n\n\tthis._computed = blankObject();\n\tthis._sortedComputedProperties = [];\n\n\tthis._state = assign({}, state);\n\tthis._differs = options && options.immutable ? _differsImmutable : _differs;\n}\n\nassign(Store.prototype, {\n\t_add(component, props) {\n\t\tthis._dependents.push({\n\t\t\tcomponent: component,\n\t\t\tprops: props\n\t\t});\n\t},\n\n\t_init(props) {\n\t\tconst state = {};\n\t\tfor (let i = 0; i < props.length; i += 1) {\n\t\t\tconst prop = props[i];\n\t\t\tstate['$' + prop] = this._state[prop];\n\t\t}\n\t\treturn state;\n\t},\n\n\t_remove(component) {\n\t\tlet i = this._dependents.length;\n\t\twhile (i--) {\n\t\t\tif (this._dependents[i].component === component) {\n\t\t\t\tthis._dependents.splice(i, 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t},\n\n\t_set(newState, changed) {\n\t\tconst previous = this._state;\n\t\tthis._state = assign(assign({}, previous), newState);\n\n\t\tfor (let i = 0; i < this._sortedComputedProperties.length; i += 1) {\n\t\t\tthis._sortedComputedProperties[i].update(this._state, changed);\n\t\t}\n\n\t\tthis.fire('state', {\n\t\t\tchanged,\n\t\t\tprevious,\n\t\t\tcurrent: this._state\n\t\t});\n\n\t\tthis._dependents\n\t\t\t.filter(dependent => {\n\t\t\t\tconst componentState = {};\n\t\t\t\tlet dirty = false;\n\n\t\t\t\tfor (let j = 0; j < dependent.props.length; j += 1) {\n\t\t\t\t\tconst prop = dependent.props[j];\n\t\t\t\t\tif (prop in changed) {\n\t\t\t\t\t\tcomponentState['$' + prop] = this._state[prop];\n\t\t\t\t\t\tdirty = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (dirty) {\n\t\t\t\t\tdependent.component._stage(componentState);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.forEach(dependent => {\n\t\t\t\tdependent.component.set({});\n\t\t\t});\n\n\t\tthis.fire('update', {\n\t\t\tchanged,\n\t\t\tprevious,\n\t\t\tcurrent: this._state\n\t\t});\n\t},\n\n\t_sortComputedProperties() {\n\t\tconst computed = this._computed;\n\t\tconst sorted = this._sortedComputedProperties = [];\n\t\tconst visited = blankObject();\n\t\tlet currentKey;\n\n\t\tfunction visit(key) {\n\t\t\tconst c = computed[key];\n\n\t\t\tif (c) {\n\t\t\t\tc.deps.forEach(dep => {\n\t\t\t\t\tif (dep === currentKey) {\n\t\t\t\t\t\tthrow new Error(`Cyclical dependency detected between ${dep} <-> ${key}`);\n\t\t\t\t\t}\n\n\t\t\t\t\tvisit(dep);\n\t\t\t\t});\n\n\t\t\t\tif (!visited[key]) {\n\t\t\t\t\tvisited[key] = true;\n\t\t\t\t\tsorted.push(c);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const key in this._computed) {\n\t\t\tvisit(currentKey = key);\n\t\t}\n\t},\n\n\tcompute(key, deps, fn) {\n\t\tlet value;\n\n\t\tconst c = {\n\t\t\tdeps,\n\t\t\tupdate: (state, changed, dirty) => {\n\t\t\t\tconst values = deps.map(dep => {\n\t\t\t\t\tif (dep in changed) dirty = true;\n\t\t\t\t\treturn state[dep];\n\t\t\t\t});\n\n\t\t\t\tif (dirty) {\n\t\t\t\t\tconst newValue = fn.apply(null, values);\n\t\t\t\t\tif (this._differs(newValue, value)) {\n\t\t\t\t\t\tvalue = newValue;\n\t\t\t\t\t\tchanged[key] = true;\n\t\t\t\t\t\tstate[key] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis._computed[key] = c;\n\t\tthis._sortComputedProperties();\n\n\t\tconst state = assign({}, this._state);\n\t\tconst changed = {};\n\t\tc.update(state, changed, true);\n\t\tthis._set(state, changed);\n\t},\n\n\tfire,\n\n\tget,\n\n\ton,\n\n\tset(newState) {\n\t\tconst oldState = this._state;\n\t\tconst changed = this._changed = {};\n\t\tlet dirty = false;\n\n\t\tfor (const key in newState) {\n\t\t\tif (this._computed[key]) throw new Error(`'${key}' is a read-only computed property`);\n\t\t\tif (this._differs(newState[key], oldState[key])) changed[key] = dirty = true;\n\t\t}\n\t\tif (!dirty) return;\n\n\t\tthis._set(newState, changed);\n\t}\n});\n\nexport { Store };\n","import { Store } from 'svelte/store.js';\r\n\r\nclass OptigenStore extends Store {};\r\n\r\nconst store = new OptigenStore({\r\n  ENV_MARKER: K_ENV == K_ENV_PROD ? '' : K_ENV,\r\n  is_loading: true,\r\n  is_logged_in: false,\r\n  user: { name: '', surname: '', email: '', avatar: '', should_change_password: '' },\r\n  role: null,\r\n  key: null,\r\n  mainSections: {},\r\n  nav: { activeTab: 'Home', activeView: 'home', params: {} },\r\n  update_ready: false,\r\n  settings: { transition: true }\r\n});\r\n\r\nexport default store;","/*! store2 - v2.12.0 - 2020-08-12\n* Copyright (c) 2020 Nathan Bubna; Licensed (MIT OR GPL-3.0) */\n;(function(window, define) {\n    var _ = {\n        version: \"2.12.0\",\n        areas: {},\n        apis: {},\n\n        // utilities\n        inherit: function(api, o) {\n            for (var p in api) {\n                if (!o.hasOwnProperty(p)) {\n                    Object.defineProperty(o, p, Object.getOwnPropertyDescriptor(api, p));\n                }\n            }\n            return o;\n        },\n        stringify: function(d) {\n            return d === undefined || typeof d === \"function\" ? d+'' : JSON.stringify(d);\n        },\n        parse: function(s, fn) {\n            // if it doesn't parse, return as is\n            try{ return JSON.parse(s,fn||_.revive); }catch(e){ return s; }\n        },\n\n        // extension hooks\n        fn: function(name, fn) {\n            _.storeAPI[name] = fn;\n            for (var api in _.apis) {\n                _.apis[api][name] = fn;\n            }\n        },\n        get: function(area, key){ return area.getItem(key); },\n        set: function(area, key, string){ area.setItem(key, string); },\n        remove: function(area, key){ area.removeItem(key); },\n        key: function(area, i){ return area.key(i); },\n        length: function(area){ return area.length; },\n        clear: function(area){ area.clear(); },\n\n        // core functions\n        Store: function(id, area, namespace) {\n            var store = _.inherit(_.storeAPI, function(key, data, overwrite) {\n                if (arguments.length === 0){ return store.getAll(); }\n                if (typeof data === \"function\"){ return store.transact(key, data, overwrite); }// fn=data, alt=overwrite\n                if (data !== undefined){ return store.set(key, data, overwrite); }\n                if (typeof key === \"string\" || typeof key === \"number\"){ return store.get(key); }\n                if (typeof key === \"function\"){ return store.each(key); }\n                if (!key){ return store.clear(); }\n                return store.setAll(key, data);// overwrite=data, data=key\n            });\n            store._id = id;\n            try {\n                var testKey = '__store2_test';\n                area.setItem(testKey, 'ok');\n                store._area = area;\n                area.removeItem(testKey);\n            } catch (e) {\n                store._area = _.storage('fake');\n            }\n            store._ns = namespace || '';\n            if (!_.areas[id]) {\n                _.areas[id] = store._area;\n            }\n            if (!_.apis[store._ns+store._id]) {\n                _.apis[store._ns+store._id] = store;\n            }\n            return store;\n        },\n        storeAPI: {\n            // admin functions\n            area: function(id, area) {\n                var store = this[id];\n                if (!store || !store.area) {\n                    store = _.Store(id, area, this._ns);//new area-specific api in this namespace\n                    if (!this[id]){ this[id] = store; }\n                }\n                return store;\n            },\n            namespace: function(namespace, singleArea) {\n                if (!namespace){\n                    return this._ns ? this._ns.substring(0,this._ns.length-1) : '';\n                }\n                var ns = namespace, store = this[ns];\n                if (!store || !store.namespace) {\n                    store = _.Store(this._id, this._area, this._ns+ns+'.');//new namespaced api\n                    if (!this[ns]){ this[ns] = store; }\n                    if (!singleArea) {\n                        for (var name in _.areas) {\n                            store.area(name, _.areas[name]);\n                        }\n                    }\n                }\n                return store;\n            },\n            isFake: function(){ return this._area.name === 'fake'; },\n            toString: function() {\n                return 'store'+(this._ns?'.'+this.namespace():'')+'['+this._id+']';\n            },\n\n            // storage functions\n            has: function(key) {\n                if (this._area.has) {\n                    return this._area.has(this._in(key));//extension hook\n                }\n                return !!(this._in(key) in this._area);\n            },\n            size: function(){ return this.keys().length; },\n            each: function(fn, fill) {// fill is used by keys(fillList) and getAll(fillList))\n                for (var i=0, m=_.length(this._area); i<m; i++) {\n                    var key = this._out(_.key(this._area, i));\n                    if (key !== undefined) {\n                        if (fn.call(this, key, this.get(key), fill) === false) {\n                            break;\n                        }\n                    }\n                    if (m > _.length(this._area)) { m--; i--; }// in case of removeItem\n                }\n                return fill || this;\n            },\n            keys: function(fillList) {\n                return this.each(function(k, v, list){ list.push(k); }, fillList || []);\n            },\n            get: function(key, alt) {\n                var s = _.get(this._area, this._in(key)),\n                    fn;\n                if (typeof alt === \"function\") {\n                    fn = alt;\n                    alt = null;\n                }\n                return s !== null ? _.parse(s, fn) :\n                    alt != null ? alt : s;\n            },\n            getAll: function(fillObj) {\n                return this.each(function(k, v, all){ all[k] = v; }, fillObj || {});\n            },\n            transact: function(key, fn, alt) {\n                var val = this.get(key, alt),\n                    ret = fn(val);\n                this.set(key, ret === undefined ? val : ret);\n                return this;\n            },\n            set: function(key, data, overwrite) {\n                var d = this.get(key);\n                if (d != null && overwrite === false) {\n                    return data;\n                }\n                return _.set(this._area, this._in(key), _.stringify(data), overwrite) || d;\n            },\n            setAll: function(data, overwrite) {\n                var changed, val;\n                for (var key in data) {\n                    val = data[key];\n                    if (this.set(key, val, overwrite) !== val) {\n                        changed = true;\n                    }\n                }\n                return changed;\n            },\n            add: function(key, data) {\n                var d = this.get(key);\n                if (d instanceof Array) {\n                    data = d.concat(data);\n                } else if (d !== null) {\n                    var type = typeof d;\n                    if (type === typeof data && type === 'object') {\n                        for (var k in data) {\n                            d[k] = data[k];\n                        }\n                        data = d;\n                    } else {\n                        data = d + data;\n                    }\n                }\n                _.set(this._area, this._in(key), _.stringify(data));\n                return data;\n            },\n            remove: function(key, alt) {\n                var d = this.get(key, alt);\n                _.remove(this._area, this._in(key));\n                return d;\n            },\n            clear: function() {\n                if (!this._ns) {\n                    _.clear(this._area);\n                } else {\n                    this.each(function(k){ _.remove(this._area, this._in(k)); }, 1);\n                }\n                return this;\n            },\n            clearAll: function() {\n                var area = this._area;\n                for (var id in _.areas) {\n                    if (_.areas.hasOwnProperty(id)) {\n                        this._area = _.areas[id];\n                        this.clear();\n                    }\n                }\n                this._area = area;\n                return this;\n            },\n\n            // internal use functions\n            _in: function(k) {\n                if (typeof k !== \"string\"){ k = _.stringify(k); }\n                return this._ns ? this._ns + k : k;\n            },\n            _out: function(k) {\n                return this._ns ?\n                    k && k.indexOf(this._ns) === 0 ?\n                        k.substring(this._ns.length) :\n                        undefined : // so each() knows to skip it\n                    k;\n            }\n        },// end _.storeAPI\n        storage: function(name) {\n            return _.inherit(_.storageAPI, { items: {}, name: name });\n        },\n        storageAPI: {\n            length: 0,\n            has: function(k){ return this.items.hasOwnProperty(k); },\n            key: function(i) {\n                var c = 0;\n                for (var k in this.items){\n                    if (this.has(k) && i === c++) {\n                        return k;\n                    }\n                }\n            },\n            setItem: function(k, v) {\n                if (!this.has(k)) {\n                    this.length++;\n                }\n                this.items[k] = v;\n            },\n            removeItem: function(k) {\n                if (this.has(k)) {\n                    delete this.items[k];\n                    this.length--;\n                }\n            },\n            getItem: function(k){ return this.has(k) ? this.items[k] : null; },\n            clear: function(){ for (var k in this.items){ this.removeItem(k); } }\n        }// end _.storageAPI\n    };\n\n    var store =\n        // safely set this up (throws error in IE10/32bit mode for local files)\n        _.Store(\"local\", (function(){try{ return localStorage; }catch(e){}})());\n    store.local = store;// for completeness\n    store._ = _;// for extenders and debuggers...\n    // safely setup store.session (throws exception in FF for file:/// urls)\n    store.area(\"session\", (function(){try{ return sessionStorage; }catch(e){}})());\n    store.area(\"page\", _.storage(\"page\"));\n\n    if (typeof define === 'function' && define.amd !== undefined) {\n        define('store2', [], function () {\n            return store;\n        });\n    } else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = store;\n    } else {\n        // expose the primary store fn to the global object and save conflicts\n        if (window.store){ _.conflict = window.store; }\n        window.store = store;\n    }\n\n})(this, this && this.define);\n","import Store from 'store2';\r\n\r\nvar store = function () {\r\n  var self = this;\r\n  self.store = Store.namespace('eyelight_admin');\r\n  return self.store;\r\n}\r\n\r\nexport default new store();","import 'promis';\r\nimport Store from './store';\r\nimport DB from './db';\r\nimport Net from './net';\r\nimport Access from './access';\r\n\r\n\r\nvar currentState = function () {\r\n  var self = this,\r\n    initial_state = Store.get(),\r\n    App = null;\r\n\r\n  self.init = function (app) {\r\n    App = app;\r\n    _init();\r\n  }\r\n\r\n  function _init() {\r\n\r\n    document.activeElement && document.activeElement.blur();\r\n\r\n    //move footer inside sidebar\r\n    //var footer = document.querySelector(\"#footer\"),\r\n    //sideBar = document.querySelector(\"#sidebar\");\r\n    //sideBar.appendChild(footer);\r\n\r\n\r\n    //load the state from localstorage\r\n\r\n    var state = DB.get('state');\r\n    if (typeof state != 'undefined' && state) {\r\n      initial_state = state;\r\n    } else {\r\n      DB.set('state', initial_state);\r\n    }\r\n\r\n\r\n\r\n\r\n    //set authentication key in network comms\r\n    Net.setKey(initial_state.key);\r\n\r\n    //respond to Net errors\r\n    Net.bind('httpError', function (code) {\r\n      if (code == 409) {\r\n        App.fire('duplicateLogin');\r\n      }\r\n      if (code == 401) {\r\n        App.fire('noAccess');\r\n      }\r\n    });\r\n\r\n    //set app state\r\n    initial_state.online = navigator.onLine;\r\n\r\n    if (initial_state.is_logged_in) {\r\n      if (!Access.isAllowed(initial_state.role)) {\r\n        initial_state.is_logged_in = false;\r\n        initial_state.user = null;\r\n        initial_state.role = null;\r\n        initial_state.key = null;\r\n        DB.set('state', initial_state);\r\n      }\r\n    }\r\n\r\n    //set browser info in env key\r\n    //App.set({ env: EnvDetector.env });\r\n\r\n    Store.set(initial_state);\r\n\r\n    //online/offline\r\n    window.addEventListener(\"offline\", function (e) { Store.set({online: false}); });\r\n    window.addEventListener(\"online\", function (e) { Store.set({online: true}); });\r\n\r\n    //check for application updates every 5 minutes\r\n    if (K_ENV != K_ENV_DEV) {\r\n      var appUpdateInterval = window.setInterval(function () {\r\n        Net.ajax({ url: './version.json?t=' + (new Date).getTime(), method: 'GET' }).then(function (r) {\r\n          var current = (\"{{version}}\" + \"{{build}}\").replace(/\\s?\\[dev\\]/, ''),\r\n            newv = (r.response.version + r.response.build).replace(/\\s?\\[dev\\]/, '');\r\n          if (current != newv) {\r\n            App.fire(\"updateReady\");\r\n            //stop checking if we already know we have an update\r\n            window.clearInterval(appUpdateInterval);\r\n          }\r\n        }).catch(function () { });\r\n      }, 300000);\r\n    }\r\n\r\n\r\n    if (initial_state.is_logged_in) {\r\n\r\n      Store.set({ mainSections: Access.mainSections(initial_state.role) });\r\n\r\n      setTimeout(function () {\r\n        Store.set({ is_loading: false });\r\n      }, 500);\r\n\r\n    } else {\r\n      setTimeout(function () {\r\n        Store.set({ is_loading: false });\r\n      }, 500);\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  self.updateState = function (changedProps) {\r\n    initial_state = Object.assign(initial_state, changedProps);\r\n    DB.set('state', initial_state);\r\n  }\r\n\r\n  self.authenticate = function (u, p, t) {\r\n    return new Promise(function (fulfil, reject) {\r\n      Net.authenticate(u, p, t).then(function (r) {\r\n        if (Access.isAllowed(r.role)) {\r\n          Store.set({ mainSections: Access.mainSections(r.role) });\r\n          Net.setKey(r.key);\r\n          fulfil(r);\r\n        } else {\r\n          reject({ valid: false, response: { 'userMessage': 'You do not have sufficient access permissions' } });\r\n        }\r\n      }, function (r) {\r\n        reject(r);\r\n      });\r\n    });\r\n  }\r\n\r\n  self.deauthenticate = function () {\r\n    //scrub key from Net\r\n    Net.setKey(null);\r\n  }\r\n\r\n\r\n}\r\n\r\n//this ensures a singleton of this class\r\nexport default new currentState;\r\n","import App from './components/App.html';\r\nimport store from './services/store';\r\nimport State from './services/state';\r\nimport Access from './services/access';\r\nimport Router from './services/router';\r\n\r\nvar app = new App({\r\n  store,\r\n  target: document.getElementById('app')\r\n});\r\n\r\n//----Mobile only functionality\r\n\r\napp.on('toggleSidebar', function () {\r\n  var { app_state } = app.get();\r\n  app_state.show_sidebar = !app_state.show_sidebar;\r\n  app.set({ app_state });\r\n});\r\n\r\napp.on('hideSidebar', function () {\r\n  var { app_state } = app.get();\r\n  app_state.show_sidebar = false;\r\n  app.set({ app_state });\r\n\r\n});\r\n\r\n//--END--Mobile only functionality\r\n\r\napp.on('duplicateLogin', function () {\r\n  var { app_state } = app.get();\r\n  app_state.show_duplicate_login_modal = true;\r\n  app.set({ app_state });\r\n});\r\n\r\napp.on('updateReady', function () {\r\n  store.set({ update_ready: true });\r\n});\r\n\r\napp.on('updateLoggedIn', function (payload) {\r\n  var { user } = store.get();\r\n  user.name = payload.name;\r\n  user.surname = payload.surname;\r\n  user.email = payload.email;\r\n  user.avatar = payload.avatar;\r\n  user.should_change_password = payload.should_change_password;\r\n  store.set({ user });\r\n});\r\n\r\napp.on('validatelogin', function (comp) {\r\n  var { username, password } = comp.get();\r\n  let type = 'SA';\r\n\r\n  State.authenticate(username, password, type).then(function (r) {\r\n    if (r.valid) {\r\n      comp.valid();\r\n\r\n      var state = {\r\n        user: r,\r\n        key: r.key,\r\n        role: r.role,\r\n        is_logged_in: true\r\n      };\r\n\r\n      store.set(state);\r\n\r\n      var oh = window.location.hash;\r\n      Router.navigate('nf');\r\n      setTimeout(function () {\r\n        Router.navigate(oh.substring(1));\r\n      }, 10);\r\n\r\n      return;\r\n    }\r\n    comp.invalid();\r\n  }, function (r) {\r\n    comp.invalid();\r\n  });\r\n\r\n});\r\n\r\napp.on('logout', function () {\r\n  var self = this;\r\n  State.deauthenticate();\r\n\r\n  var state = {\r\n    is_logged_in: false,\r\n    user: { name: '', surname: '', email: '', username: '', avatar: '', should_change_password:'' },\r\n    role: null,\r\n    key: null\r\n  },\r\n\r\n    { app_state } = app.get();\r\n\r\n  app_state.show_duplicate_login_modal = false;\r\n\r\n  store.set(state);\r\n  self.set({ app_state });\r\n});\r\n\r\n\r\nstore.on('state', function ({ changed, current, previous }) {\r\n  var obsStateKeys = ['is_logged_in', 'user', 'key', 'role'];\r\n\r\n  var changedProps = {};\r\n\r\n  obsStateKeys.forEach((item) => {\r\n    if (changed[item]) {\r\n      changedProps[item] = current[item];\r\n    }\r\n  });\r\n\r\n  State.updateState(changedProps);\r\n\r\n});\r\n\r\n//Instantiate sibsidiary services\r\nState.init(app);\r\n\r\n\r\nexport default app;"],"names":["routes","routeMap","i","length","route","pattern","view","charAt","toUpperCase","slice","$settings","transition","$user","should_change_password","is_redirect","type","[object Object]","this","get","Router","navigate","changed","current","previous","redirectToProfile","is_loading","page","title","subtitle","icon","timeout","setTimeout","set","clearTimeout","$role","tracker","saving","saved","error","is_error","meta","error_message","short_meanings","Aggravation","Object","entries","key","value","views","PageNotFound","Dashboard","PageAssetsLoading","lazyViews","Profile","import","Settings","Users","AddUser","ViewUser","Remedies","ViewRemedy","AddRemedy","SingleView","Patients","ViewPatient","AddPatient","Histories","ViewHistory","AddHistory","Search","Prescriptions","ViewPrescription","baseModel","super","apiEndpoint","viewPromise","then","mod","default","nav","store","shouldBeView","activeView","catch","e","console","log","on","r","loadQueuedView","activeTab","section","params","fire","init","Routes","$nav","images","max","Math","floor","random","$is_logged_in","$is_loading","username","password","validating","shaking","has_error","preventDefault","randomBackground","show","loading","event","isReady","$mainSections","ret","element","name","k","url","visible","data$5","show_duplicate_login_modal","el","self","state","_handlers","_computed","_state","component","props","prop","filter","componentState","dirty","dependent","forEach","computed","sorted","visit","visited","deps","fn","_differs","newValue","c","oldState","OptigenStore","ENV_MARKER","K_ENV","is_logged_in","user","role","mainSections","update_ready","settings","_","version","areas","api","o","p","area","getItem","string","remove","id","namespace","storeAPI","overwrite","arguments","data","setItem","removeItem","_ns","Store","ns","_id","isFake","has","size","fill","m","_area","fillList","s","alt","val","d","stringify","items","local","define","exports","conflict","initial_state","App","window","addEventListener","_init","DB","t","isAllowed","Net","reject","target","app_state","show_sidebar","app","payload","surname","email","avatar","authenticate","valid","location","comp"],"mappings":"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"}