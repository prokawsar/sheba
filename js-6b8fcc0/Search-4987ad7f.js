var K_ENV="prod",K_ENV_DEV="dev",K_ENV_TEST="test",K_ENV_PROD="prod";import{A as addListener,a as append,b as assign,u as createComment,d as createElement,e as createFragment,f as createText,v as destroyEach,g as detachNode,h as flush,i as init,j as insert,l as proto,m as removeFromStore,B as removeListener,w as setData,n as Icon,a1 as detachBefore,C as setAttribute,D as setStyle,x as Panel,p as Transition,c as assignTrue,Y as selectOption,Z as selectValue,y as Notification,o as Message,q as ViewScaffold,r as PageTitle}from"./chunk-b74ece54.js";import{a as Router}from"./chunk-186691d9.js";import{a as SubmitButton}from"./chunk-a0c19dba.js";import{a as PageTabBar}from"./chunk-6760c5c7.js";import{a as SearchableSelect}from"./chunk-da8d06c7.js";import{a as Remedies}from"./chunk-3b9a27cc.js";import{a as Model}from"./chunk-107a8f39.js";import{a as TreatmentModel,b as AddTreatment}from"./chunk-7807e75e.js";import{a as PatientAdd,b as Sections}from"./chunk-5c7d6046.js";function tabs({link:e,tabs:t,id:a,is_detailed_route:r}){return e?(t.forEach(t=>{t.default_route?t.link=t.is_detailed_route?"javascript:void(0)":`${e}/${a}/${t.default_route}`:t.link=t.default_route?"javascript:void(0)":`${e}/${a}/${t.name}`}),t):t}function is_detailed_route({$nav:e}){return!(!e||void 0===e.params[1])&&e.params[1]}function data(){return{getTotalSpace:e=>e.children[0].clientWidth,getAvailableSpace:(e,t)=>e.clientWidth,tab_list:{},active_tab:"details"}}function click_handler(e){const{component:t,ctx:a}=this._svelte;t.set({active_tab:a.tab.name})}function get_each_context(e,t,a){const r=Object.create(e);return r.tab=t[a],r}function create_main_fragment(e,t){for(var a,r=t.tabs,s=[],c=0;c<r.length;c+=1)s[c]=create_each_block(e,get_each_context(t,r,c));var n={getTotalSpace:t.getTotalSpace,getAvailableSpace:t.getAvailableSpace,type:"boxed",alignment:"centered"},d=new PageTabBar({root:e.root,store:e.store,slots:{default:createFragment()},data:n});return{c(){for(var e=0;e<s.length;e+=1)s[e].c();a=createComment(),d._fragment.c()},m(e,t){for(var r=0;r<s.length;r+=1)s[r].m(d._slotted.default,null);append(d._slotted.default,a),d._mount(e,t)},p(t,c){if(t.tabs||t.active_tab){r=c.tabs;for(var n=0;n<r.length;n+=1){const d=get_each_context(c,r,n);s[n]?s[n].p(t,d):(s[n]=create_each_block(e,d),s[n].c(),s[n].m(a.parentNode,a))}for(;n<s.length;n+=1)s[n].d(1);s.length=r.length}var i={};t.getTotalSpace&&(i.getTotalSpace=c.getTotalSpace),t.getAvailableSpace&&(i.getAvailableSpace=c.getAvailableSpace),d._set(i)},d(e){destroyEach(s,e),d.destroy(e)}}}function create_each_block(e,t){var a,r,s,c,n,d,i,o,l=t.tab.title,_={size:"small",icon:t.tab.icon},m=new Icon({root:e.root,store:e.store,data:_});return{c(){a=createElement("li"),r=createElement("a"),m._fragment.c(),s=createText("\r\n        "),c=createElement("span"),n=createText(l),i=createText("\r\n    "),r._svelte={component:e,ctx:t},addListener(r,"click",click_handler),r.href=d=t.tab.link?t.tab.link:"javascript:void(0)",a.className=o=t.tab.name==t.active_tab?"is-active ":""},m(e,t){insert(e,a,t),append(a,r),m._mount(r,null),append(r,s),append(r,c),append(c,n),append(a,i)},p(e,s){t=s;var c={};e.tabs&&(c.icon=t.tab.icon),m._set(c),e.tabs&&l!==(l=t.tab.title)&&setData(n,l),r._svelte.ctx=t,e.tabs&&d!==(d=t.tab.link?t.tab.link:"javascript:void(0)")&&(r.href=d),(e.tabs||e.active_tab)&&o!==(o=t.tab.name==t.active_tab?"is-active ":"")&&(a.className=o)},d(e){e&&detachNode(a),m.destroy(),removeListener(r,"click",click_handler)}}}function Tabs(e){init(this,e),this._state=assign(assign(this.store._init(["nav"]),data()),e.data),this.store._add(this,["nav"]),this._recompute({$nav:1,link:1,tabs:1,id:1,is_detailed_route:1},this._state),this._intro=!0,this._handlers.destroy=[removeFromStore],this._fragment=create_main_fragment(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}function data$1(){return{selected_symptom:"",loadSymptoms:[]}}function get_each_context_1(e,t,a){const r=Object.create(e);return r.symp=t[a],r}function get_each_context$1(e,t,a){const r=Object.create(e);return r.data=t[a],r}function create_main_fragment$1(e,t){var a,r,s,c,n=""!=t.selected_symptom&&create_if_block(e,t);return{c(){a=createElement("table"),(r=createElement("thead")).innerHTML="<tr><th>Symptoms</th>\n\t\t\t      <th></th></tr>",s=createText("\r\n  "),c=createElement("tbody"),n&&n.c(),a.className="table is-narrow"},m(e,t){insert(e,a,t),append(a,r),append(a,s),append(a,c),n&&n.m(c,null)},p(t,a){""!=a.selected_symptom?n?n.p(t,a):((n=create_if_block(e,a)).c(),n.m(c,null)):n&&(n.d(1),n=null)},d(e){e&&detachNode(a),n&&n.d()}}}function create_if_block(e,t){for(var a,r=t.loadSymptoms[t.selected_symptom],s=[],c=0;c<r.length;c+=1)s[c]=create_each_block$1(e,get_each_context$1(t,r,c));return{c(){for(var e=0;e<s.length;e+=1)s[e].c();a=createComment()},m(e,t){for(var r=0;r<s.length;r+=1)s[r].m(e,t);insert(e,a,t)},p(t,c){if(t.Array||t.loadSymptoms||t.selected_symptom){r=c.loadSymptoms[c.selected_symptom];for(var n=0;n<r.length;n+=1){const d=get_each_context$1(c,r,n);s[n]?s[n].p(t,d):(s[n]=create_each_block$1(e,d),s[n].c(),s[n].m(a.parentNode,a))}for(;n<s.length;n+=1)s[n].d(1);s.length=r.length}},d(e){destroyEach(s,e),e&&detachNode(a)}}}function create_else_block(e,t){var a,r,s,c,n,d,i=t.data;return{c(){a=createElement("tr"),r=createElement("td"),s=createText(i),c=createText("\r\n          "),(n=createElement("td")).innerHTML='<span class="icon" style="cursor: pointer;"><i class="fa fa-arrow-right"></i></span>',d=createText("\r\n        "),r.className="",n.className="is-icon",a.className="transible"},m(e,t){insert(e,a,t),append(a,r),append(r,s),append(a,c),append(a,n),append(a,d)},p(e,t){(e.loadSymptoms||e.selected_symptom)&&i!==(i=t.data)&&setData(s,i)},d(e){e&&detachNode(a)}}}function create_if_block_1(e,t){for(var a,r=t.data,s=[],c=0;c<r.length;c+=1)s[c]=create_each_block_1(e,get_each_context_1(t,r,c));return{c(){for(var e=0;e<s.length;e+=1)s[e].c();a=createComment()},m(e,t){for(var r=0;r<s.length;r+=1)s[r].m(e,t);insert(e,a,t)},p(t,c){if(t.loadSymptoms||t.selected_symptom){r=c.data;for(var n=0;n<r.length;n+=1){const d=get_each_context_1(c,r,n);s[n]?s[n].p(t,d):(s[n]=create_each_block_1(e,d),s[n].c(),s[n].m(a.parentNode,a))}for(;n<s.length;n+=1)s[n].d(1);s.length=r.length}},d(e){destroyEach(s,e),e&&detachNode(a)}}}function create_each_block_1(e,t){var a,r,s,c,n,d,i=t.symp;return{c(){a=createElement("tr"),r=createElement("td"),s=createText(i),c=createText("\r\n              "),(n=createElement("td")).innerHTML='<span class="icon" style="cursor: pointer;"><i class="fa fa-arrow-right"></i></span>',d=createText("\r\n            "),n.className="is-icon"},m(e,t){insert(e,a,t),append(a,r),append(r,s),append(a,c),append(a,n),append(a,d)},p(e,t){(e.loadSymptoms||e.selected_symptom)&&i!==(i=t.symp)&&setData(s,i)},d(e){e&&detachNode(a)}}}function create_each_block$1(e,t){var a;function r(e){return e.Array.isArray(e.data)?create_if_block_1:create_else_block}var s=r(t),c=s(e,t);return{c(){c.c(),a=createComment()},m(e,t){c.m(e,t),insert(e,a,t)},p(t,n){s===(s=r(n))&&c?c.p(t,n):(c.d(1),(c=s(e,n)).c(),c.m(a.parentNode,a))},d(e){c.d(e),e&&detachNode(a)}}}function SearchResult(e){init(this,e),this._state=assign(assign({Array:Array},data$1()),e.data),this._intro=!0,this._fragment=create_main_fragment$1(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function disabled({data:e}){return!e.patient}function data$2(){return{edit_case:!1,remedy_id:null,selected_remedy:"",remedy_found:{},field_name:"",result_matched_fields:[],tracker:{}}}function matched_color(e,t){return e&&e.replace(t,'<span class="has-text-info">'+t+"</span>")}assign(Tabs.prototype,proto),Tabs.prototype._recompute=function(e,t){e.$nav&&this._differs(t.is_detailed_route,t.is_detailed_route=is_detailed_route(t))&&(e.is_detailed_route=!0),(e.link||e.tabs||e.id||e.is_detailed_route)&&this._differs(t.tabs,t.tabs=tabs(t))&&(e.tabs=!0)},assign(SearchResult.prototype,proto);var methods={showSymptoms(e){e&&(this.set({remedy_id:e.id,selected_remedy:e.name}),this.fire("showSymptoms",e))},saveHistory(e){e.preventDefault(),this.fire("saveHistory")}};function get_each_context$2(e,t,a){const r=Object.create(e);return r.item=t[a],r}function get_each1_context(e,t,a){const r=Object.create(e);return r.key=t[a][0],r.value=t[a][1],r.i=a,r}function click_handler$1(e){const{component:t,ctx:a}=this._svelte;t.showSymptoms(a.value)}function get_each0_context(e,t,a){const r=Object.create(e);return r.key=t[a][0],r.value=t[a][1],r.i=a,r}function create_main_fragment$2(e,t){var a,r,s,c,n,d,i,o,l,_,m,p,h,u,f,b,y=t.remedy_id&&create_if_block_1$1(e,t);function v(t){e.fire("back")}for(var g=t.Object.entries(t.remedy_found),k=[],x=0;x<g.length;x+=1)k[x]=create_each_block_2(e,get_each0_context(t,g,x));var N=t.Object.entries(t.result_matched_fields),T=[];for(x=0;x<N.length;x+=1)T[x]=create_each_block$2(e,get_each1_context(t,N,x));var E=!t.edit_case&&create_if_block$1(e,t),S=new Panel({root:e.root,store:e.store,slots:{default:createFragment(),toolbar:createFragment()},data:{title:"Matches Remedy",has_toolbar:!0}});function $(t){e.saveHistory(t)}return{c(){a=createElement("form"),r=createElement("div"),y&&y.c(),s=createText("\r\n      "),(c=createElement("button")).innerHTML='<span class="icon is-small"><i class="fa fa-arrow-left"></i></span>\n\t\t\t        <span>Back to Search</span>',n=createText("\r\n\r\n    "),d=createElement("div"),i=createElement("div"),o=createElement("div");for(var e=0;e<k.length;e+=1)k[e].c();l=createText("\r\n        "),_=createElement("hr"),m=createText("\r\n        "),p=createElement("div");for(e=0;e<T.length;e+=1)T[e].c();h=createText("\r\n\r\n        "),u=createElement("div"),E&&E.c(),f=createText("\r\n\r\n          "),(b=createElement("p")).innerHTML='<span class="icon"><i class="fa fa-info"></i></span>\n\t\t\t            Matched text with query are in colored text.\n\t\t\t          ',S._fragment.c(),addListener(c,"click",v),c.type="button",c.className="button is-info",setAttribute(r,"slot","toolbar"),o.className="columns is-multiline",p.className="columns is-multiline",b.className="control is-pulled-left has-text-grey",u.className="field",i.className="column",d.className="columns",addListener(a,"submit",$)},m(e,t){insert(e,a,t),append(S._slotted.toolbar,r),y&&y.m(r,null),append(r,s),append(r,c),append(S._slotted.default,n),append(S._slotted.default,d),append(d,i),append(i,o);for(var v=0;v<k.length;v+=1)k[v].m(o,null);append(i,l),append(i,_),append(i,m),append(i,p);for(v=0;v<T.length;v+=1)T[v].m(p,null);append(i,h),append(i,u),E&&E.m(u,null),append(u,f),append(u,b),S._mount(a,null)},p(t,a){if(a.remedy_id?y?y.p(t,a):((y=create_if_block_1$1(e,a)).c(),y.m(r,s)):y&&(y.d(1),y=null),t.remedy_id||t.Object||t.remedy_found){g=a.Object.entries(a.remedy_found);for(var c=0;c<g.length;c+=1){const r=get_each0_context(a,g,c);k[c]?k[c].p(t,r):(k[c]=create_each_block_2(e,r),k[c].c(),k[c].m(o,null))}for(;c<k.length;c+=1)k[c].d(1);k.length=g.length}if(t.Object||t.result_matched_fields){N=a.Object.entries(a.result_matched_fields);for(c=0;c<N.length;c+=1){const r=get_each1_context(a,N,c);T[c]?T[c].p(t,r):(T[c]=create_each_block$2(e,r),T[c].c(),T[c].m(p,null))}for(;c<T.length;c+=1)T[c].d(1);T.length=N.length}a.edit_case?E&&(E.d(1),E=null):E?E.p(t,a):((E=create_if_block$1(e,a)).c(),E.m(u,f))},d(e){e&&detachNode(a),y&&y.d(),removeListener(c,"click",v),destroyEach(k,e),destroyEach(T,e),E&&E.d(),S.destroy(),removeListener(a,"submit",$)}}}function create_if_block_1$1(e,t){var a,r,s,c,n,d;return{c(){a=createElement("a"),(r=createElement("span")).innerHTML='<i class="fa fa-eye"></i>',s=createText("\r\n        "),(c=createElement("span")).textContent="View selected Remedy",r.className="icon is-small",a.className="button is-text ",a.href=n="#remedies/singleview/"+t.remedy_id,a.dataset.tooltip=d="View "+t.selected_remedy,a.target="_blank"},m(e,t){insert(e,a,t),append(a,r),append(a,s),append(a,c)},p(e,t){e.remedy_id&&n!==(n="#remedies/singleview/"+t.remedy_id)&&(a.href=n),e.selected_remedy&&d!==(d="View "+t.selected_remedy)&&(a.dataset.tooltip=d)},d(e){e&&detachNode(a)}}}function create_each_block_2(e,t){var a,r,s,c,n,d,i=t.value.name,o=t.value.mark;return{c(){a=createElement("div"),r=createElement("p"),s=createText(i),c=createText("\r\n                "),n=createElement("span"),d=createText(o),n.className="tag is-"+(0==t.i?"link":"success")+" is-medium is-pulled-right",r._svelte={component:e,ctx:t},addListener(r,"click",click_handler$1),r.className="is-size-5",setStyle(r,"line-height","1.2rem"),setStyle(r,"cursor","pointer"),a.className="column is-4",setStyle(a,"border-radius","4px"),setStyle(a,"background-color",t.remedy_id==t.value.id?"#E6E6FA":"")},m(e,t){insert(e,a,t),append(a,r),append(r,s),append(r,c),append(r,n),append(n,d)},p(e,c){t=c,(e.Object||e.remedy_found)&&i!==(i=t.value.name)&&setData(s,i),(e.Object||e.remedy_found)&&o!==(o=t.value.mark)&&setData(d,o),r._svelte.ctx=t,(e.remedy_id||e.Object||e.remedy_found)&&setStyle(a,"background-color",t.remedy_id==t.value.id?"#E6E6FA":"")},d(e){e&&detachNode(a),removeListener(r,"click",click_handler$1)}}}function create_each_block_1$1(e,t){var a,r,s,c,n,d=matched_color(t.item.matched,t.item.query);return{c(){a=createElement("p"),r=createElement("noscript"),s=createText("."),c=createText("\r\n                  "),n=createElement("hr"),a.className="is-size-5",setStyle(a,"line-height","1.2rem"),n.className="is-small"},m(e,t){insert(e,a,t),append(a,r),r.insertAdjacentHTML("beforebegin",d),append(a,s),insert(e,c,t),insert(e,n,t)},p(e,t){(e.Object||e.result_matched_fields)&&d!==(d=matched_color(t.item.matched,t.item.query))&&(detachBefore(r),r.insertAdjacentHTML("beforebegin",d))},d(e){e&&(detachNode(a),detachNode(c),detachNode(n))}}}function create_each_block$2(e,t){for(var a,r,s,c,n,d=t.key,i=t.value,o=[],l=0;l<i.length;l+=1)o[l]=create_each_block_1$1(e,get_each_context$2(t,i,l));var _=new Transition({root:e.root,store:e.store,slots:{default:createFragment()},data:{transition:!0,type:"fly",x:30,delay:500}});return{c(){a=createElement("div"),r=createElement("label"),s=createText(d),c=createText("\r\n                ");for(var e=0;e<o.length;e+=1)o[e].c();n=createComment(),_._fragment.c(),r.className="label title is-size-4",a.className="column is-4"},m(e,t){insert(e,a,t),append(_._slotted.default,r),append(r,s),append(_._slotted.default,c);for(var d=0;d<o.length;d+=1)o[d].m(_._slotted.default,null);append(_._slotted.default,n),_._mount(a,null)},p(t,a){if((t.Object||t.result_matched_fields)&&d!==(d=a.key)&&setData(s,d),t.Object||t.result_matched_fields){i=a.value;for(var r=0;r<i.length;r+=1){const s=get_each_context$2(a,i,r);o[r]?o[r].p(t,s):(o[r]=create_each_block_1$1(e,s),o[r].c(),o[r].m(n.parentNode,n))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}},d(e){e&&detachNode(a),destroyEach(o,e),_.destroy()}}}function create_if_block$1(e,t){var a,r,s,c={},n={classes:"is-primary is-pulled-right",icon:"save",icon_size:"small",text:"Save History"};void 0!==t.disabled&&(n.disabled=t.disabled,c.disabled=!0),void 0!==t.tracker&&(n.tracker=t.tracker,c.tracker=!0);var d=new SubmitButton({root:e.root,store:e.store,data:n,_bind(t,a){var r={};!c.disabled&&t.disabled&&(r.disabled=a.disabled),!c.tracker&&t.tracker&&(r.tracker=a.tracker),e._set(r),c={}}});return e.root._beforecreate.push(()=>{d._bind({disabled:1,tracker:1},d.get())}),{c(){a=createElement("p"),(r=createElement("label")).textContent=" ",s=createText("\r\n              "),d._fragment.c(),r.className="label",a.className="control"},m(e,t){insert(e,a,t),append(a,r),append(a,s),d._mount(a,null)},p(e,a){t=a;var r={};!c.disabled&&e.disabled&&(r.disabled=t.disabled,c.disabled=void 0!==t.disabled),!c.tracker&&e.tracker&&(r.tracker=t.tracker,c.tracker=void 0!==t.tracker),d._set(r),c={}},d(e){e&&detachNode(a),d.destroy()}}}function RemedyFound(e){init(this,e),this._state=assign(assign({Object:Object},data$2()),e.data),this._recompute({data:1},this._state),this._intro=!0,this._fragment=create_main_fragment$2(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}function _search(e,t){let a=[],r=[],s=["id","name","created","modified","deleted","patient","treatments","book_references","total_data_size"];for(let[t,r]of Object.entries(e))r&&!s.includes(t)&&(a[t]=r.split(",").filter(e=>null!=e&&""!=e.trim()));for(let[e,s]of Object.entries(a))s.forEach(a=>{t.forEach(t=>{""!=t[e]&&t[e]&&t[e].split(",").forEach(s=>{if(""!=a.trim()&&s.trim().includes(a.trim())){var c=r.find(e=>e.name===t.name);if(c){let t=r.findIndex(e=>e.id==c.id);r[t].mark++,r[t].fields[e]?r[t].fields[e].push({matched:s.trim(),query:a.trim()}):(r[t].fields[e]=[],r[t].fields[e].push({matched:s.trim(),query:a.trim()}))}else{let c={};c[e]=[],c[e].push({matched:s.trim(),query:a.trim()}),r.push({id:t.id,name:t.name,mark:1,fields:c})}}})})});return r.sort((e,t)=>e.mark<t.mark?1:-1).slice(0,10)}function has_searched({remedy_found:e}){return Object.keys(e).length}function user_role({$user:e}){return e&&e.role}function active_tab({edit_case:e}){return e?"case_history":"patient_cc"}function filterFields({remedies:e,omitted_field:t}){let a=["built","constitution","diathesis","miasm","temperament","temperature_and_weather","thermal_sensitivity","sensation","tendency_take_cold","desires","aversions","birth_history_milestones","tissues","stages_and_states","attacks_and_side","ailments_from","affections","clinical","modalities","mental_state_and_disorders","appearance_and_behavior","attention_and_concentration","expression","consciousness","mood_and_affect","memory","speech","thoughts_and_ideas","perception","intelligence","judgment","fear_and_live_alone","boring","peaceful","anger","hobby","habit","addiction","nutrition","anaemia","cyanosis","dehydration","jaundice","pulse","breathing","peculiar_rare_symptoms"],r=[];if(e.length){for(let[s,c]of Object.entries(e[0]))a.includes(s)||t.includes(s)||r.push(s);return r.push(...a),r}}function remedy_names({remedies:e}){let t=[];for(let a in e){let r=e[a];t.push(r.name)}return t}function loadSymptoms({remedies:e}){let t=[];for(let a in e){Object.entries(e[a]).forEach(([e,a])=>{t[e]=[]});break}for(let a in e){let r=e[a];Object.entries(r).forEach(([e,a])=>{a&&"string"==typeof a&&t[e].push(a.split(","))})}return t}function searchable_withkey({loadSymptoms:e}){let t=[],a=0;return Object.entries(e).forEach(([r,s])=>{let c=e[r];t[r]=[];for(let e in c)if(Array.isArray(c[e]))for(let s in c[e])t[r].push({id:a++,name:c[e][s].trim()})}),t}function searchable_symp({loadSymptoms:e,omitted_field:t}){let a=[],r=0;for(let s in e)if(!t.includes(s)){let t=e[s];for(let e in t)if(Array.isArray(t[e]))for(let c in t[e]){let n=t[e][c]+" -> "+s;a.push({id:r++,name:n.trim()})}}return a}function data$3(){return{is_loading:!1,is_error:!1,edit_case:!1,error_message:"",is_active_case_modal:!1,selected_section:"",selected_all_symp:"",selected_keyed_symp:"",active_tab:"patient_cc",result_matched_fields:[],remedies:{},data:{},remedy_found:{},remedy_names:[],omitted_field:["id","name","created","modified","deleted","patient","treatments","book_references","total_data_size"],patient:{name:"",age:"",gender:"",phone:"",address:"",patient_type:"new"},tracker:{saving:!1,saved:!1,error:!1},page:{title:"Search Remedy",icon:"search",icon_badge:""},tabs:[{icon:"info-circle",name:"patient_cc",title:"Patient/CC"},{icon:"pencil",name:"case_history",title:"Case History"}],valid:!1}}assign(RemedyFound.prototype,proto),assign(RemedyFound.prototype,methods),RemedyFound.prototype._recompute=function(e,t){e.data&&this._differs(t.disabled,t.disabled=disabled(t))&&(e.disabled=!0)};var methods$1={loadRemedies(){Remedies.getAll({limit:1e3}).then(e=>{this.set({remedies:e.response})}).catch(e=>{console.log(e)})},reset(e){e&&e.doing(),this.set({data:{},p_data:{}}),this.set({remedy_found:{}}),e&&e.done()},back(){this.set({remedy_found:{}}),this.set({result_matched_fields:{}})},showSymptoms(e){this.set({result_matched_fields:e.fields})},saveHistory(){let{data:e}=this.get();this.set({tracker:{saving:!0,saved:!1,error:!1}}),Model.create(e).then(e=>{this.set({tracker:{saving:!1,saved:!0,error:!1},data:e.response}),setTimeout(()=>{this.set({tracker:{saved:!1}}),Router.navigate("history")},1500)}).catch(e=>{"406"==e.response.records.errorCode?this.set({error_message:e.response.records.userMessage}):this.set({error_message:"There was an error adding history"}),this.set({tracker:{saving:!1,saved:!1,error:!0}}),setTimeout(()=>{this.set({tracker:{error:!1}})},3e3)})},saveTreatment(e){let{data:t,edit_case:a}=this.get();a?this.fire("saveTreatment",e):(this.set({tracker:{saving:!0,saved:!1,error:!1}}),TreatmentModel.createWithCase({data:e,case:t}).then(e=>{this.set({tracker:{saving:!1,saved:!0,error:!1}}),setTimeout(()=>{this.set({tracker:{saved:!1}}),Router.navigate("history")},1500)}).catch(e=>{console.log(e)}))},search(e){e.preventDefault();var{data:t,valid:a,remedies:r}=this.get();let s={};this.set({tracker:{saving:!0,saved:!1,error:!1}}),s=_search(t,r),this.set({remedy_found:s}),setTimeout(()=>{this.set({tracker:{saved:!1}})},1500)}};function oncreate(){this.on("state",({changed:e,current:t,previous:a})=>{let{data:r,selected_section:s,selected_all_symp:c}=this.get();if(t.selected_keyed_symp!=a.selected_keyed_symp&&(r[s]=r[s]?r[s]+", "+t.selected_keyed_symp:", "+t.selected_keyed_symp,r[s]=Array.from(new Set(r[s].split(","))).toString(),this.set({data:r})),t.selected_all_symp!=a.selected_all_symp){let e=c.split(" -> "),t=e[1],a=e[0];r[t]=r[t]?r[t]+", "+a:a,this.set({data:r,selected_section:t,selected_keyed_symp:a})}}),this.on("saveTreatment",e=>{this.saveTreatment(e)}),this.on("addPatient",e=>{let{data:t}=this.get();if(e.case_histories){let t=e.case_histories[0].id;this.set({case_id:t})}t.patient=e,this.set({data:t})}),this.on("showSymptoms",e=>{this.showSymptoms(e)}),this.loadRemedies()}function get_each1_context$1(e,t,a){const r=Object.create(e);return r.key=t[a][0],r.value=t[a][1],r.i=a,r}function get_each0_context$1(e,t,a){const r=Object.create(e);return r.key=t[a][0],r.value=t[a][1],r.i=a,r}function create_main_fragment$3(e,t){var a,r,s,c,n,d=!t.edit_case&&create_if_block_12(e,t),i=t.tracker.error&&create_if_block_11(e,t),o="patient_cc"==t.active_tab&&create_if_block_10(e,t),l="case_history"==t.active_tab&&create_if_block$2(e,t),_={is_loading:t.is_loading,is_error:t.is_error,error_message:t.error_message,class:"has-fullpage-tabs has-multilevel-tabs"},m=new ViewScaffold({root:e.root,store:e.store,slots:{default:createFragment()},data:_});return{c(){a=createElement("div"),d&&d.c(),r=createText("\r\n\r\n  "),i&&i.c(),s=createText("\r\n\r\n    "),o&&o.c(),c=createText("\r\n    "),l&&l.c(),n=createComment(),m._fragment.c(),a.className="page-content"},m(e,t){insert(e,a,t),d&&d.m(a,null),append(a,r),i&&i.m(m._slotted.default,null),append(m._slotted.default,s),o&&o.m(m._slotted.default,null),append(m._slotted.default,c),l&&l.m(m._slotted.default,null),append(m._slotted.default,n),m._mount(a,null)},p(t,_){_.edit_case?d&&(d.d(1),d=null):d?d.p(t,_):((d=create_if_block_12(e,_)).c(),d.m(a,r)),_.tracker.error?i?i.p(t,_):((i=create_if_block_11(e,_)).c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null),"patient_cc"==_.active_tab?o?o.p(t,_):((o=create_if_block_10(e,_)).c(),o.m(c.parentNode,c)):o&&(o.d(1),o=null),"case_history"==_.active_tab?l?l.p(t,_):((l=create_if_block$2(e,_)).c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null);var p={};t.is_loading&&(p.is_loading=_.is_loading),t.is_error&&(p.is_error=_.is_error),t.error_message&&(p.error_message=_.error_message),m._set(p)},d(e){e&&detachNode(a),d&&d.d(),i&&i.d(),o&&o.d(),l&&l.d(),m.destroy()}}}function create_if_block_12(e,t){var a={},r={tabs:t.tabs};void 0!==t.active_tab&&(r.active_tab=t.active_tab,a.active_tab=!0);var s=new Tabs({root:e.root,store:e.store,data:r,_bind(t,r){var s={};!a.active_tab&&t.active_tab&&(s.active_tab=r.active_tab),e._set(s),a={}}});e.root._beforecreate.push(()=>{s._bind({active_tab:1},s.get())});var c={page:t.page},n=new PageTitle({root:e.root,store:e.store,slots:{default:createFragment()},data:c});return{c(){s._fragment.c(),n._fragment.c()},m(e,t){s._mount(n._slotted.default,null),n._mount(e,t)},p(e,r){t=r;var c={};e.tabs&&(c.tabs=t.tabs),!a.active_tab&&e.active_tab&&(c.active_tab=t.active_tab,a.active_tab=void 0!==t.active_tab),s._set(c),a={};var d={};e.page&&(d.page=t.page),n._set(d)},d(e){s.destroy(),n.destroy(e)}}}function create_if_block_11(e,t){var a,r=new Notification({root:e.root,store:e.store,slots:{default:createFragment()},data:{type:"danger"}});return{c(){a=createText(t.error_message),r._fragment.c()},m(e,t){append(r._slotted.default,a),r._mount(e,t)},p(e,t){e.error_message&&setData(a,t.error_message)},d(e){r.destroy(e)}}}function create_if_block_10(e,t){var a={},r={};void 0!==t.patient&&(r.patient=t.patient,a.patient=!0),void 0!==t.data&&(r.data=t.data,a.data=!0),void 0!==t.p_data&&(r.p_data=t.p_data,a.p_data=!0),void 0!==t.searchable_symp&&(r.searchable_symp=t.searchable_symp,a.searchable_symp=!0),void 0!==t.case_id&&(r.case_id=t.case_id,a.case_id=!0);var s=new PatientAdd({root:e.root,store:e.store,data:r,_bind(t,r){var s={};!a.patient&&t.patient&&(s.patient=r.patient),!a.data&&t.data&&(s.data=r.data),!a.p_data&&t.p_data&&(s.p_data=r.p_data),!a.searchable_symp&&t.searchable_symp&&(s.searchable_symp=r.searchable_symp),!a.case_id&&t.case_id&&(s.case_id=r.case_id),e._set(s),a={}}});return e.root._beforecreate.push(()=>{s._bind({patient:1,data:1,p_data:1,searchable_symp:1,case_id:1},s.get())}),s.on("addPatient",function(t){e.fire("addPatient",t)}),{c(){s._fragment.c()},m(e,t){s._mount(e,t)},p(e,r){t=r;var c={};!a.patient&&e.patient&&(c.patient=t.patient,a.patient=void 0!==t.patient),!a.data&&e.data&&(c.data=t.data,a.data=void 0!==t.data),!a.p_data&&e.p_data&&(c.p_data=t.p_data,a.p_data=void 0!==t.p_data),!a.searchable_symp&&e.searchable_symp&&(c.searchable_symp=t.searchable_symp,a.searchable_symp=void 0!==t.searchable_symp),!a.case_id&&e.case_id&&(c.case_id=t.case_id,a.case_id=void 0!==t.case_id),s._set(c),a={}},d(e){s.destroy(e)}}}function create_if_block$2(e,t){var a,r,s,c,n=!t.has_searched&&create_if_block_4(e,t),d=t.has_searched&&create_if_block_3(e,t),i=t.has_searched&&!t.data.patient&&create_if_block_2(e,t),o=!t.has_searched&&create_if_block_1$2(e,t);return{c(){a=createElement("div"),n&&n.c(),r=createText("\r\n\r\n        "),d&&d.c(),s=createText("\r\n\r\n        "),i&&i.c(),c=createText("\r\n\r\n        "),o&&o.c(),a.className="content"},m(e,t){insert(e,a,t),n&&n.m(a,null),append(a,r),d&&d.m(a,null),append(a,s),i&&i.m(a,null),append(a,c),o&&o.m(a,null)},p(t,l){l.has_searched?n&&(n.d(1),n=null):n?n.p(t,l):((n=create_if_block_4(e,l)).c(),n.m(a,r)),l.has_searched?d?d.p(t,l):((d=create_if_block_3(e,l)).c(),d.m(a,s)):d&&(d.d(1),d=null),l.has_searched&&!l.data.patient?i||((i=create_if_block_2(e,l)).c(),i.m(a,c)):i&&(i.d(1),i=null),l.has_searched?o&&(o.d(1),o=null):o?o.p(t,l):((o=create_if_block_1$2(e,l)).c(),o.m(a,null))},d(e){e&&detachNode(a),n&&n.d(),d&&d.d(),i&&i.d(),o&&o.d()}}}function create_if_block_4(e,t){for(var a,r,s,c,n,d,i,o,l,_,m,p,h,u,f,b,y,v,g,k,x,N,T,E,S,$,j,w,O,F,A,C,L,R,D,H,M,P,V,z,B=!1,q={},K={},I={},W=t.Object.entries(t.data),Y=[],Z=0;Z<W.length;Z+=1)Y[Z]=create_each_block_1$2(e,get_each0_context$1(t,W,Z));var G=!t.Object.entries(t.data).length&&create_if_block_8(e,t),J=new Message({root:e.root,store:e.store,slots:{default:createFragment()},data:{title:"Records",color:"light"}}),Q=t.Object.entries(t.data),U=[];for(Z=0;Z<Q.length;Z+=1)U[Z]=create_each_block$3(e,get_each1_context$1(t,Q,Z));function X(){B=!0,e.set({selected_section:selectValue(_)}),B=!1}function ee(e){return e.data[e.selected_section]?create_if_block_6:create_else_block$1}var te=ee(t),ae=te(e,t),re={data:t.searchable_withkey[t.selected_section],placeholder:"Choose...",searchKey:"name",searchValue:"id"};void 0!==t.selected_keyed_symp&&(re._name=t.selected_keyed_symp,q._name=!0);var se=new SearchableSelect({root:e.root,store:e.store,data:re,_bind(t,a){var r={};!q._name&&t._name&&(r.selected_keyed_symp=a._name),e._set(r),q={}}});e.root._beforecreate.push(()=>{se._bind({_name:1},se.get())});var ce={data:t.searchable_symp,placeholder:"Choose...",searchKey:"name",searchValue:"id"};void 0!==t.selected_all_symp&&(ce._name=t.selected_all_symp,K._name=!0);var ne=new SearchableSelect({root:e.root,store:e.store,data:ce,_bind(t,a){var r={};!K._name&&t._name&&(r.selected_all_symp=a._name),e._set(r),K={}}});e.root._beforecreate.push(()=>{ne._bind({_name:1},ne.get())});var de=t.edit_case&&create_if_block_5(e,t),ie={classes:"is-primary is-medium is-pulled-right",icon:"search",icon_size:"small",text:"Search"};void 0!==t.tracker&&(ie.tracker=t.tracker,I.tracker=!0);var oe=new SubmitButton({root:e.root,store:e.store,data:ie,_bind(t,a){var r={};!I.tracker&&t.tracker&&(r.tracker=a.tracker),e._set(r),I={}}});e.root._beforecreate.push(()=>{oe._bind({tracker:1},oe.get())});var le=new Panel({root:e.root,store:e.store,slots:{default:createFragment()},data:{title:"Patient Symptoms",has_toolbar:!0}});function _e(t){e.search(t)}return{c(){a=createElement("form"),r=createElement("div"),s=createElement("div");for(var B=0;B<Y.length;B+=1)Y[B].c();c=createText("\r\n                    "),G&&G.c(),n=createComment(),J._fragment.c(),d=createText("\r\n\r\n                "),i=createElement("div"),o=createElement("div"),l=createElement("span"),_=createElement("select"),(m=createElement("option")).textContent="Select Type";for(B=0;B<U.length;B+=1)U[B].c();p=createText("\r\n\r\n                  "),h=createElement("div"),u=createElement("p"),f=createElement("label"),b=createText(t.selected_section),y=createText("\r\n                      "),ae.c(),v=createText("\r\n                "),g=createElement("div"),(k=createElement("p")).textContent="Suggestions",x=createText("\r\n\r\n                  "),N=createElement("div"),T=createElement("p"),E=createElement("label"),S=createText(t.selected_section),$=createText(" Symptoms in the System"),j=createText("\r\n                        "),se._fragment.c(),w=createText("\r\n\r\n                  "),O=createElement("div"),F=createElement("p"),(A=createElement("label")).textContent="All Symptoms in the System",C=createText("\r\n                        "),ne._fragment.c(),L=createText("\r\n                  "),R=createElement("div"),de&&de.c(),D=createText("\r\n\r\n                    "),H=createElement("p"),(M=createElement("label")).textContent=" ",P=createText("\r\n                      "),oe._fragment.c(),le._fragment.c(),V=createText("\r\n          "),z=createElement("br"),s.className="column",m.__value="",m.value=m.__value,addListener(_,"change",X),"selected_section"in t||e.root._beforecreate.push(X),_.className="input",l.className="select is-fullwidth",o.className="field",f.className="label",setStyle(f,"text-transform","capitalize"),u.className="control",h.className="field",i.className="column",k.className="title is-5",E.className="label",setStyle(E,"text-transform","capitalize"),T.className="control",N.className="field",A.className="label",setStyle(A,"text-transform","capitalize"),F.className="control",O.className="field",M.className="label",H.className="control",R.className="field is-grouped is-pulled-right",g.className="column",r.className="columns",addListener(a,"submit",_e)},m(e,B){insert(e,a,B),append(le._slotted.default,r),append(r,s);for(var q=0;q<Y.length;q+=1)Y[q].m(J._slotted.default,null);append(J._slotted.default,c),G&&G.m(J._slotted.default,null),append(J._slotted.default,n),J._mount(s,null),append(r,d),append(r,i),append(i,o),append(o,l),append(l,_),append(_,m);for(q=0;q<U.length;q+=1)U[q].m(_,null);selectOption(_,t.selected_section),append(i,p),append(i,h),append(h,u),append(u,f),append(f,b),append(u,y),ae.m(u,null),append(r,v),append(r,g),append(g,k),append(g,x),append(g,N),append(N,T),append(T,E),append(E,S),append(E,$),append(T,j),se._mount(T,null),append(g,w),append(g,O),append(O,F),append(F,A),append(F,C),ne._mount(F,null),append(g,L),append(g,R),de&&de.m(R,null),append(R,D),append(R,H),append(H,M),append(H,P),oe._mount(H,null),le._mount(a,null),insert(e,V,B),insert(e,z,B)},p(a,r){if(t=r,a.Object||a.data||a.omitted_field){W=t.Object.entries(t.data);for(var s=0;s<W.length;s+=1){const r=get_each0_context$1(t,W,s);Y[s]?Y[s].p(a,r):(Y[s]=create_each_block_1$2(e,r),Y[s].c(),Y[s].m(c.parentNode,c))}for(;s<Y.length;s+=1)Y[s].d(1);Y.length=W.length}if(t.Object.entries(t.data).length?G&&(G.d(1),G=null):G||((G=create_if_block_8(e,t)).c(),G.m(n.parentNode,n)),a.omitted_field||a.Object||a.data){Q=t.Object.entries(t.data);for(s=0;s<Q.length;s+=1){const r=get_each1_context$1(t,Q,s);U[s]?U[s].p(a,r):(U[s]=create_each_block$3(e,r),U[s].c(),U[s].m(_,null))}for(;s<U.length;s+=1)U[s].d(1);U.length=Q.length}!B&&a.selected_section&&selectOption(_,t.selected_section),a.selected_section&&setData(b,t.selected_section),te===(te=ee(t))&&ae?ae.p(a,t):(ae.d(1),(ae=te(e,t)).c(),ae.m(u,null)),a.selected_section&&setData(S,t.selected_section);var d={};(a.searchable_withkey||a.selected_section)&&(d.data=t.searchable_withkey[t.selected_section]),!q._name&&a.selected_keyed_symp&&(d._name=t.selected_keyed_symp,q._name=void 0!==t.selected_keyed_symp),se._set(d),q={};var i={};a.searchable_symp&&(i.data=t.searchable_symp),!K._name&&a.selected_all_symp&&(i._name=t.selected_all_symp,K._name=void 0!==t.selected_all_symp),ne._set(i),K={},t.edit_case?de?de.p(a,t):((de=create_if_block_5(e,t)).c(),de.m(R,D)):de&&(de.d(1),de=null);var o={};!I.tracker&&a.tracker&&(o.tracker=t.tracker,I.tracker=void 0!==t.tracker),oe._set(o),I={}},d(e){e&&detachNode(a),destroyEach(Y,e),G&&G.d(),J.destroy(),destroyEach(U,e),removeListener(_,"change",X),ae.d(),se.destroy(),ne.destroy(),de&&de.d(),oe.destroy(),le.destroy(),removeListener(a,"submit",_e),e&&(detachNode(V),detachNode(z))}}}function create_if_block_9(e,t){var a,r,s,c,n,d,i,o=t.key,l=t.value;return{c(){a=createElement("p"),r=createElement("span"),s=createText(o),c=createText(": "),n=createText(l),d=createText(" "),i=createElement("br"),r.className="has-text-weight-bold is-size-5"},m(e,t){insert(e,a,t),append(a,r),append(r,s),append(a,c),append(a,n),insert(e,d,t),insert(e,i,t)},p(e,t){(e.Object||e.data)&&o!==(o=t.key)&&setData(s,o),(e.Object||e.data)&&l!==(l=t.value)&&setData(n,l)},d(e){e&&(detachNode(a),detachNode(d),detachNode(i))}}}function create_each_block_1$2(e,t){var a,r=t.value&&!t.omitted_field.includes(t.key)&&create_if_block_9(e,t);return{c(){r&&r.c(),a=createComment()},m(e,t){r&&r.m(e,t),insert(e,a,t)},p(t,s){s.value&&!s.omitted_field.includes(s.key)?r?r.p(t,s):((r=create_if_block_9(e,s)).c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&detachNode(a)}}}function create_if_block_8(e,t){var a;return{c(){a=createText("No records yet")},m(e,t){insert(e,a,t)},d(e){e&&detachNode(a)}}}function create_if_block_7(e,t){var a,r,s,c=t.key;return{c(){a=createElement("option"),r=createText(c),a.__value=s=t.key,a.value=a.__value},m(e,t){insert(e,a,t),append(a,r)},p(e,t){(e.Object||e.data)&&c!==(c=t.key)&&setData(r,c),(e.Object||e.data)&&s!==(s=t.key)&&(a.__value=s),a.value=a.__value},d(e){e&&detachNode(a)}}}function create_each_block$3(e,t){var a,r=!t.omitted_field.includes(t.key)&&create_if_block_7(e,t);return{c(){r&&r.c(),a=createComment()},m(e,t){r&&r.m(e,t),insert(e,a,t)},p(t,s){s.omitted_field.includes(s.key)?r&&(r.d(1),r=null):r?r.p(t,s):((r=create_if_block_7(e,s)).c(),r.m(a.parentNode,a))},d(e){r&&r.d(e),e&&detachNode(a)}}}function create_else_block$1(e,t){var a,r;return{c(){(a=createElement("textarea")).className="textarea",a.readOnly=!0,a.placeholder=r=t.selected_section+"...",setStyle(a,"height","15rem")},m(e,t){insert(e,a,t)},p(e,t){e.selected_section&&r!==(r=t.selected_section+"...")&&(a.placeholder=r)},d(e){e&&detachNode(a)}}}function create_if_block_6(e,t){var a,r,s=!1;function c(){s=!0,t.data[t.selected_section]=a.value,e.set({data:t.data,selected_section:t.selected_section,Object:t.Object}),s=!1}return{c(){a=createElement("textarea"),addListener(a,"input",c),a.className="textarea",a.readOnly=!0,a.placeholder=r=t.selected_section+"...",setStyle(a,"height","15rem")},m(e,r){insert(e,a,r),a.value=t.data[t.selected_section]},p(e,c){t=c,s||!e.data&&!e.selected_section||(a.value=t.data[t.selected_section]),e.selected_section&&r!==(r=t.selected_section+"...")&&(a.placeholder=r)},d(e){e&&detachNode(a),removeListener(a,"input",c)}}}function create_if_block_5(e,t){var a,r,s,c,n,d,i,o,l,_;function m(t){e.fire("save")}return{c(){a=createElement("p"),(r=createElement("label")).textContent=" ",s=createText("\r\n                      "),c=createElement("button"),n=createElement("span"),d=createElement("i"),o=createText("\r\n                        "),(l=createElement("span")).textContent="Save only",r.className="label",d.className=i="fa fa-"+(t.tracker.saved?"check":"save"),n.className="icon",addListener(c,"click",m),c.type="button",c.className=_="button  is-"+(t.tracker.saving?"loading":"")+" is-primary is-medium",a.className="control"},m(e,t){insert(e,a,t),append(a,r),append(a,s),append(a,c),append(c,n),append(n,d),append(c,o),append(c,l)},p(e,t){e.tracker&&i!==(i="fa fa-"+(t.tracker.saved?"check":"save"))&&(d.className=i),e.tracker&&_!==(_="button  is-"+(t.tracker.saving?"loading":"")+" is-primary is-medium")&&(c.className=_)},d(e){e&&detachNode(a),removeListener(c,"click",m)}}}function create_if_block_3(e,t){var a,r,s,c,n,d,i={},o={},l={field_name:t.field_name,result_matched_fields:t.result_matched_fields};void 0!==t.data&&(l.data=t.data,i.data=!0),void 0!==t.tracker&&(l.tracker=t.tracker,i.tracker=!0),void 0!==t.remedy_found&&(l.remedy_found=t.remedy_found,i.remedy_found=!0),void 0!==t.edit_case&&(l.edit_case=t.edit_case,i.edit_case=!0);var _=new RemedyFound({root:e.root,store:e.store,data:l,_bind(t,a){var r={};!i.data&&t.data&&(r.data=a.data),!i.tracker&&t.tracker&&(r.tracker=a.tracker),!i.remedy_found&&t.remedy_found&&(r.remedy_found=a.remedy_found),!i.edit_case&&t.edit_case&&(r.edit_case=a.edit_case),e._set(r),i={}}});e.root._beforecreate.push(()=>{_._bind({data:1,tracker:1,remedy_found:1,edit_case:1},_.get())}),_.on("back",function(t){e.back()}),_.on("showSymptoms",function(t){e.fire("showSymptoms",t)}),_.on("saveHistory",function(t){e.saveHistory()});var m={};void 0!==t.remedy_names&&(m.remedy_names=t.remedy_names,o.remedy_names=!0),void 0!==t.data&&(m.data=t.data,o.data=!0),void 0!==t.tracker&&(m.tracker=t.tracker,o.tracker=!0),void 0!==t.remedy_found&&(m.remedy_found=t.remedy_found,o.remedy_found=!0);var p=new AddTreatment({root:e.root,store:e.store,data:m,_bind(t,a){var r={};!o.remedy_names&&t.remedy_names&&(r.remedy_names=a.remedy_names),!o.data&&t.data&&(r.data=a.data),!o.tracker&&t.tracker&&(r.tracker=a.tracker),!o.remedy_found&&t.remedy_found&&(r.remedy_found=a.remedy_found),e._set(r),o={}}});return e.root._beforecreate.push(()=>{p._bind({remedy_names:1,data:1,tracker:1,remedy_found:1},p.get())}),p.on("saveTreatment",function(t){e.fire("saveTreatment",t)}),{c(){a=createElement("div"),r=createElement("div"),_._fragment.c(),s=createText("\r\n            "),c=createElement("div"),p._fragment.c(),n=createText("\r\n          "),d=createElement("br"),r.className="column",c.className="column",a.className="columns"},m(e,t){insert(e,a,t),append(a,r),_._mount(r,null),append(a,s),append(a,c),p._mount(c,null),insert(e,n,t),insert(e,d,t)},p(e,a){t=a;var r={};e.field_name&&(r.field_name=t.field_name),e.result_matched_fields&&(r.result_matched_fields=t.result_matched_fields),!i.data&&e.data&&(r.data=t.data,i.data=void 0!==t.data),!i.tracker&&e.tracker&&(r.tracker=t.tracker,i.tracker=void 0!==t.tracker),!i.remedy_found&&e.remedy_found&&(r.remedy_found=t.remedy_found,i.remedy_found=void 0!==t.remedy_found),!i.edit_case&&e.edit_case&&(r.edit_case=t.edit_case,i.edit_case=void 0!==t.edit_case),_._set(r),i={};var s={};!o.remedy_names&&e.remedy_names&&(s.remedy_names=t.remedy_names,o.remedy_names=void 0!==t.remedy_names),!o.data&&e.data&&(s.data=t.data,o.data=void 0!==t.data),!o.tracker&&e.tracker&&(s.tracker=t.tracker,o.tracker=void 0!==t.tracker),!o.remedy_found&&e.remedy_found&&(s.remedy_found=t.remedy_found,o.remedy_found=void 0!==t.remedy_found),p._set(s),o={}},d(e){e&&detachNode(a),_.destroy(),p.destroy(),e&&(detachNode(n),detachNode(d))}}}function create_if_block_2(e,t){var a;return{c(){(a=createElement("div")).innerHTML='<label class="subtitle is-size-5 has-text-warning is-centered"> Selection patient is mendatory for saving Case History or Treatment ! </label>',a.className="columns is-centered"},m(e,t){insert(e,a,t)},d(e){e&&detachNode(a)}}}function create_if_block_1$2(e,t){var a={},r={};void 0!==t.data&&(r.data=t.data,a.data=!0),void 0!==t.remedies&&(r.remedies=t.remedies,a.remedies=!0),void 0!==t.filterFields&&(r.filterFields=t.filterFields,a.filterFields=!0),void 0!==t.selected_section&&(r.selected_section=t.selected_section,a.selected_section=!0);var s=new Sections({root:e.root,store:e.store,data:r,_bind(t,r){var s={};!a.data&&t.data&&(s.data=r.data),!a.remedies&&t.remedies&&(s.remedies=r.remedies),!a.filterFields&&t.filterFields&&(s.filterFields=r.filterFields),!a.selected_section&&t.selected_section&&(s.selected_section=r.selected_section),e._set(s),a={}}});return e.root._beforecreate.push(()=>{s._bind({data:1,remedies:1,filterFields:1,selected_section:1},s.get())}),s.on("reset",function(t){e.reset(t)}),{c(){s._fragment.c()},m(e,t){s._mount(e,t)},p(e,r){t=r;var c={};!a.data&&e.data&&(c.data=t.data,a.data=void 0!==t.data),!a.remedies&&e.remedies&&(c.remedies=t.remedies,a.remedies=void 0!==t.remedies),!a.filterFields&&e.filterFields&&(c.filterFields=t.filterFields,a.filterFields=void 0!==t.filterFields),!a.selected_section&&e.selected_section&&(c.selected_section=t.selected_section,a.selected_section=void 0!==t.selected_section),s._set(c),a={}},d(e){s.destroy(e)}}}function Search(e){init(this,e),this._state=assign(assign(assign({Object:Object},this.store._init(["user"])),data$3()),e.data),this.store._add(this,["user"]),this._recompute({remedy_found:1,$user:1,edit_case:1,remedies:1,omitted_field:1,loadSymptoms:1},this._state),this._intro=!0,this._handlers.destroy=[removeFromStore],this._fragment=create_main_fragment$3(this,this._state),this.root._oncreate.push(()=>{oncreate.call(this),this.fire("update",{changed:assignTrue({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}assign(Search.prototype,proto),assign(Search.prototype,methods$1),Search.prototype._recompute=function(e,t){e.remedy_found&&this._differs(t.has_searched,t.has_searched=has_searched(t))&&(e.has_searched=!0),e.$user&&this._differs(t.user_role,t.user_role=user_role(t))&&(e.user_role=!0),e.edit_case&&this._differs(t.active_tab,t.active_tab=active_tab(t))&&(e.active_tab=!0),(e.remedies||e.omitted_field)&&this._differs(t.filterFields,t.filterFields=filterFields(t))&&(e.filterFields=!0),e.remedies&&(this._differs(t.remedy_names,t.remedy_names=remedy_names(t))&&(e.remedy_names=!0),this._differs(t.loadSymptoms,t.loadSymptoms=loadSymptoms(t))&&(e.loadSymptoms=!0)),e.loadSymptoms&&this._differs(t.searchable_withkey,t.searchable_withkey=searchable_withkey(t))&&(e.searchable_withkey=!0),(e.loadSymptoms||e.omitted_field)&&this._differs(t.searchable_symp,t.searchable_symp=searchable_symp(t))&&(e.searchable_symp=!0)};export{Tabs as a,Search as b};
//# sourceMappingURL=Search-4987ad7f.js.map
