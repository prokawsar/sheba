var K_ENV="prod",K_ENV_DEV="dev",K_ENV_TEST="test",K_ENV_PROD="prod";import{A as addListener,a as append,b as assign,c as assignTrue,u as createComment,d as createElement,f as createText,g as detachNode,h as flush,i as init,j as insert,l as proto,T as reinsertBefore,B as removeListener,n as Icon}from"./chunk-b74ece54.js";var rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)};function data(){return{_show_dropdown:!1,_show_more_link:!1,getTotalSpace:e=>e.parentNode.parentNode.parentNode.parentNode.clientWidth,getAvailableSpace(e,t){var s=e.parentNode.parentNode.parentNode.parentNode,i=t,a=s.children[1].clientWidth;return i-=s.children[0].clientWidth,i-=a>50?a:50}}}var methods={pollForRender(){this.refs.tabs&&void 0!==this.refs.tabs?this.init():setTimeout(()=>{this.pollForRender()},200)},init(){if(this.tabbar=this.refs.tabbar,this.tabs=this.refs.tabs,this.tabs&&void 0!==this.tabs){this.tab_items=[].slice.call(this.tabs.querySelectorAll("li:not(.more-link)"));for(var e=this.tab_items.length-1;e>=0;e--){var t=this.tab_items[e];this.attachClickEvents(t)}var{getTotalSpace:s,getAvailableSpace:i}=this.get();this.overflow=this.refs.overflow,this.totalSpace=s(this.tabbar),this.windowResizeHandler=(()=>{rAF(()=>{if(this.tabbar.parentNode){if(this.tabs.style.visibility="hidden",s(this.tabbar)>this.totalSpace){for(var e=[].slice.call(this.tabs.querySelectorAll("li:not(.more-link)")),t=e.length-1;t>=0;t--){(r=e[t]).classList.remove("is-hidden")}this.set({_show_more_link:!1})}if(this.totalSpace=s(this.tabbar),this.tabs.clientWidth>i(this.tabbar,s(this.tabbar))){this.set({_show_more_link:!0});var a=!1;for(t=this.tab_items.length-1;t>=0;t--){var r;if(!(r=this.tab_items[t]).classList.contains("is-hidden")){r.classList.add("is-hidden"),a=!0;break}}this.populateOverflow(),a&&this.windowResizeHandler()}this.tabs.style.visibility="visible"}})}),this.outsideClickHandler=(e=>{!this.overflow.contains(e.target)&&this.get()._show_dropdown&&(this.set({_show_dropdown:!1}),window.removeEventListener("click",this.outsideClickHandler))}),window.addEventListener("resize",this.windowResizeHandler,!1),this.windowResizeHandler(),this.on("showDropdown",e=>{e.preventDefault(),e.stopPropagation(),window.addEventListener("click",this.outsideClickHandler,!1),this.set({_show_dropdown:!0})}),this.on("destroy",()=>{window.removeEventListener("resize",this.windowResizeHandler),window.removeEventListener("click",this.outsideClickHandler)})}},populateOverflow(){this.overflow.innerHTML="";for(var e=[].slice.call(this.tabs.querySelectorAll("li:not(.more-link).is-hidden")),t=0;t<e.length;t++){var s=e[t].cloneNode(!0);s.classList.remove("is-hidden"),this.overflow.appendChild(s),this.attachClickEvents(s,!0)}},attachClickEvents(e,t){e.addEventListener("click",()=>{e.classList.contains("is-active")||(t&&this.set({_show_dropdown:!1}),setTimeout(()=>this.windowResizeHandler(),1))})}};function oncreate(){this.pollForRender()}function create_main_fragment(e,t){var s,i,a,r,n,o,d,l,h,c,p,w,m=e._slotted.default,_=new Icon({root:e.root,store:e.store,data:{size:"small",icon:"chevron-down"}});function b(t){e.fire("showDropdown",t)}return{c(){s=createElement("div"),i=createElement("div"),a=createElement("ul"),n=createText("\r\n\r\n      "),o=createElement("li"),d=createElement("a"),_._fragment.c(),l=createText("Â "),h=createText("\r\n        "),c=createElement("div"),p=createElement("ul"),addListener(d,"click",b),d.className="dropdown-trigger",d.href="show",p.className="dropdown-content",c.className="dropdown-menu",o.className=w="more-link dropdown is-right "+(t._show_dropdown?"is-active":"")+" "+(t._show_more_link?"":"is-hidden"),i.className="tabs is-right is-toggle ",s.className="tabbar"},m(t,w){insert(t,s,w),append(s,i),append(i,a),m&&(append(a,m),append(a,r||(r=createComment()))),append(a,n),append(a,o),append(o,d),_._mount(d,null),append(d,l),append(o,h),append(o,c),append(c,p),e.refs.overflow=p,e.refs.tabs=a,e.refs.tabbar=s},p(e,t){(e._show_dropdown||e._show_more_link)&&w!==(w="more-link dropdown is-right "+(t._show_dropdown?"is-active":"")+" "+(t._show_more_link?"":"is-hidden"))&&(o.className=w)},d(t){t&&detachNode(s),m&&reinsertBefore(r,m),_.destroy(),removeListener(d,"click",b),e.refs.overflow===p&&(e.refs.overflow=null),e.refs.tabs===a&&(e.refs.tabs=null),e.refs.tabbar===s&&(e.refs.tabbar=null)}}}function PageTabBar(e){init(this,e),this.refs={},this._state=assign(data(),e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=create_main_fragment(this,this._state),this.root._oncreate.push(()=>{oncreate.call(this),this.fire("update",{changed:assignTrue({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}assign(PageTabBar.prototype,proto),assign(PageTabBar.prototype,methods);export{PageTabBar as a};
//# sourceMappingURL=chunk-6760c5c7.js.map
