var K_ENV="prod",K_ENV_DEV="dev",K_ENV_TEST="test",K_ENV_PROD="prod";import{a0 as addResizeListener,a as append,b as assign,c as assignTrue,d as createElement,g as detachNode,h as flush,i as init,j as insert,l as proto,O as reinsertChildren,A as addListener,u as createComment,e as createFragment,f as createText,v as destroyEach,a1 as detachBefore,B as removeListener,C as setAttribute,w as setData,D as setStyle,x as Panel,p as Transition}from"./chunk-b74ece54.js";import{a as SubmitButton}from"./chunk-a0c19dba.js";import{b as rAF}from"./chunk-da8d06c7.js";function data(){return{active:!1,class:"",style:"",v_center:!1,h_center:!1,track_height:!1}}var methods={pollForRender(){this.refs.slideInner&&void 0!==this.refs.slideInner?this.init():setTimeout(()=>{this.pollForRender()},200)},init(){this.fireSizeChange()},fireSizeChange(){var{v_center:e,h_center:t,active:a,track_height:r}=this.get();r&&a&&(this.refs.slideInner&&void 0!==this.refs.slideInner?rAF(()=>{if(this.refs.slideInner&&void 0!==this.refs.slideInner){var e=this.refs.slideInner.scrollHeight,t=this.refs.slideInner.clientHeight;this.fire("heightChange",{height:Math.max(e,t)})}}):this.pollForRender())}};function oncreate(){this.pollForRender()}function onupdate({changed:e,current:t}){t.active&&t.track_height&&(e.active||e._height)&&rAF(()=>{this.fireSizeChange()})}function create_main_fragment(e,t){var a,r,n,s,i,c=e._slotted.default;function d(){e.set({_height:a.clientHeight})}return{c(){a=createElement("div"),(r=createElement("div")).className=n="sliding-pane-inner "+(t.v_center?"v-centered":"")+" "+(t.h_center?"h-centered":""),e.root._aftercreate.push(d),a.className=i="sliding-pane "+(t.v_center?"v-centered":"")+" "+(t.h_center?"h-centered":"")+" "+(t.active?"is-active":"")+" "+t.class,a.style.cssText=t.style},m(t,n){insert(t,a,n),append(a,r),c&&append(r,c),e.refs.slideInner=r,s=addResizeListener(a,d)},p(e,t){(e.v_center||e.h_center)&&n!==(n="sliding-pane-inner "+(t.v_center?"v-centered":"")+" "+(t.h_center?"h-centered":""))&&(r.className=n),(e.v_center||e.h_center||e.active||e.class)&&i!==(i="sliding-pane "+(t.v_center?"v-centered":"")+" "+(t.h_center?"h-centered":"")+" "+(t.active?"is-active":"")+" "+t.class)&&(a.className=i),e.style&&(a.style.cssText=t.style)},d(t){t&&detachNode(a),c&&reinsertChildren(r,c),e.refs.slideInner===r&&(e.refs.slideInner=null),s.cancel()}}}function SlidingPane(e){init(this,e),this.refs={},this._state=assign(data(),e.data),this._intro=!0,this._handlers.update=[onupdate],this._slotted=e.slots||{},this._fragment=create_main_fragment(this,this._state),this.root._oncreate.push(()=>{oncreate.call(this),this.fire("update",{changed:assignTrue({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}function data$1(){return{class:"",style:"",vertical:!1}}function create_main_fragment$1(e,t){var a,r,n=e._slotted.default;return{c(){(a=createElement("div")).className=r="sliding-pane-set "+(t.vertical?"is-vertical":"")+"  "+t.class,a.style.cssText=t.style},m(e,t){insert(e,a,t),n&&append(a,n)},p(e,t){(e.vertical||e.class)&&r!==(r="sliding-pane-set "+(t.vertical?"is-vertical":"")+"  "+t.class)&&(a.className=r),e.style&&(a.style.cssText=t.style)},d(e){e&&detachNode(a),n&&reinsertChildren(a,n)}}}function SlidingPaneSet(e){init(this,e),this._state=assign(data$1(),e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=create_main_fragment$1(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function disabled({data:e}){return!e.patient}function remedy_found({remedy_found:e}){return e.sort((e,t)=>e.mark<t.mark?1:-1)}function data$2(){return{remedy_id:null,remedy_found:{},field_name:"",result_matched_fields:[],tracker:{}}}function matched_color(e,t){return e&&e.replace(t,'<span class="has-text-info">'+t+"</span>")}assign(SlidingPane.prototype,proto),assign(SlidingPane.prototype,methods),assign(SlidingPaneSet.prototype,proto);var methods$1={showSymptoms(e){e&&(this.set({remedy_id:e.id}),this.fire("showSymptoms",e))},saveHistory(e){e.preventDefault(),this.fire("saveHistory")}};function get_each_context(e,t,a){const r=Object.create(e);return r.item=t[a],r}function get_each1_context(e,t,a){const r=Object.create(e);return r.key=t[a][0],r.value=t[a][1],r.i=a,r}function click_handler(e){const{component:t,ctx:a}=this._svelte;t.showSymptoms(a.value)}function get_each0_context(e,t,a){const r=Object.create(e);return r.key=t[a][0],r.value=t[a][1],r.i=a,r}function create_main_fragment$2(e,t){var a,r,n,s,i,c,d,l,o,m,h,_,u,p,f,g,v,b={},y=t.remedy_id&&create_if_block(e,t);function k(t){e.fire("back")}for(var x=t.Object.entries(t.remedy_found),E=[],N=0;N<x.length;N+=1)E[N]=create_each_block_2(e,get_each0_context(t,x,N));var T=t.Object.entries(t.result_matched_fields),S=[];for(N=0;N<T.length;N+=1)S[N]=create_each_block(e,get_each1_context(t,T,N));var j={classes:"is-primary is-pulled-right",icon:"save",icon_size:"small",text:"Save History"};void 0!==t.disabled&&(j.disabled=t.disabled,b.disabled=!0),void 0!==t.tracker&&(j.tracker=t.tracker,b.tracker=!0);var O=new SubmitButton({root:e.root,store:e.store,data:j,_bind(t,a){var r={};!b.disabled&&t.disabled&&(r.disabled=a.disabled),!b.tracker&&t.tracker&&(r.tracker=a.tracker),e._set(r),b={}}});e.root._beforecreate.push(()=>{O._bind({disabled:1,tracker:1},O.get())});var F=new Panel({root:e.root,store:e.store,slots:{default:createFragment(),toolbar:createFragment()},data:{title:"Matches Remedy",has_toolbar:!0}});function L(t){e.saveHistory(t)}return{c(){a=createElement("form"),r=createElement("div"),y&&y.c(),n=createText("\r\n      "),(s=createElement("button")).innerHTML='<span class="icon is-small"><i class="fa fa-arrow-left"></i></span>\n\t\t\t        <span>Back to Search</span>',i=createText("\r\n\r\n    "),c=createElement("div"),d=createElement("div"),l=createElement("div");for(var e=0;e<E.length;e+=1)E[e].c();o=createText("\r\n        "),m=createElement("hr"),h=createText("\r\n        "),_=createElement("div");for(e=0;e<S.length;e+=1)S[e].c();u=createText("\r\n\r\n        "),p=createElement("div"),f=createElement("p"),(g=createElement("label")).textContent="Â ",v=createText("\r\n            "),O._fragment.c(),F._fragment.c(),addListener(s,"click",k),s.type="button",s.className="button is-info",setAttribute(r,"slot","toolbar"),l.className="columns is-multiline",_.className="columns is-multiline",g.className="label",f.className="control",p.className="field",d.className="column",c.className="columns",addListener(a,"submit",L)},m(e,t){insert(e,a,t),append(F._slotted.toolbar,r),y&&y.m(r,null),append(r,n),append(r,s),append(F._slotted.default,i),append(F._slotted.default,c),append(c,d),append(d,l);for(var b=0;b<E.length;b+=1)E[b].m(l,null);append(d,o),append(d,m),append(d,h),append(d,_);for(b=0;b<S.length;b+=1)S[b].m(_,null);append(d,u),append(d,p),append(p,f),append(f,g),append(f,v),O._mount(f,null),F._mount(a,null)},p(a,s){if((t=s).remedy_id?y?y.p(a,t):((y=create_if_block(e,t)).c(),y.m(r,n)):y&&(y.d(1),y=null),a.remedy_id||a.Object||a.remedy_found){x=t.Object.entries(t.remedy_found);for(var i=0;i<x.length;i+=1){const r=get_each0_context(t,x,i);E[i]?E[i].p(a,r):(E[i]=create_each_block_2(e,r),E[i].c(),E[i].m(l,null))}for(;i<E.length;i+=1)E[i].d(1);E.length=x.length}if(a.Object||a.result_matched_fields){T=t.Object.entries(t.result_matched_fields);for(i=0;i<T.length;i+=1){const r=get_each1_context(t,T,i);S[i]?S[i].p(a,r):(S[i]=create_each_block(e,r),S[i].c(),S[i].m(_,null))}for(;i<S.length;i+=1)S[i].d(1);S.length=T.length}var c={};!b.disabled&&a.disabled&&(c.disabled=t.disabled,b.disabled=void 0!==t.disabled),!b.tracker&&a.tracker&&(c.tracker=t.tracker,b.tracker=void 0!==t.tracker),O._set(c),b={}},d(e){e&&detachNode(a),y&&y.d(),removeListener(s,"click",k),destroyEach(E,e),destroyEach(S,e),O.destroy(),F.destroy(),removeListener(a,"submit",L)}}}function create_if_block(e,t){var a,r,n,s,i;return{c(){a=createElement("a"),(r=createElement("span")).innerHTML='<i class="fa fa-eye"></i>',n=createText("\r\n        "),(s=createElement("span")).textContent="View selected Remedy",r.className="icon is-small",a.className="button is-text ",a.href=i="#remedies/singleview/"+t.remedy_id,a.target="_blank"},m(e,t){insert(e,a,t),append(a,r),append(a,n),append(a,s)},p(e,t){e.remedy_id&&i!==(i="#remedies/singleview/"+t.remedy_id)&&(a.href=i)},d(e){e&&detachNode(a)}}}function create_each_block_2(e,t){var a,r,n,s,i,c,d=t.value.name,l=t.value.mark;return{c(){a=createElement("div"),r=createElement("p"),n=createText(d),s=createText("\r\n                "),i=createElement("span"),c=createText(l),i.className="tag is-success is-medium is-pulled-right",r._svelte={component:e,ctx:t},addListener(r,"click",click_handler),r.className="is-size-5",setStyle(r,"line-height","1.2rem"),setStyle(r,"cursor","pointer"),a.className="column is-4",setStyle(a,"border-radius","4px"),setStyle(a,"background-color",t.remedy_id==t.value.id?"#E6E6FA":"")},m(e,t){insert(e,a,t),append(a,r),append(r,n),append(r,s),append(r,i),append(i,c)},p(e,s){t=s,(e.Object||e.remedy_found)&&d!==(d=t.value.name)&&setData(n,d),(e.Object||e.remedy_found)&&l!==(l=t.value.mark)&&setData(c,l),r._svelte.ctx=t,(e.remedy_id||e.Object||e.remedy_found)&&setStyle(a,"background-color",t.remedy_id==t.value.id?"#E6E6FA":"")},d(e){e&&detachNode(a),removeListener(r,"click",click_handler)}}}function create_each_block_1(e,t){var a,r,n,s,i,c=matched_color(t.item.matched,t.item.query);return{c(){a=createElement("p"),r=createElement("noscript"),n=createText("."),s=createText("\r\n                  "),i=createElement("hr"),a.className="is-size-5",setStyle(a,"line-height","1.2rem"),i.className="is-small"},m(e,t){insert(e,a,t),append(a,r),r.insertAdjacentHTML("beforebegin",c),append(a,n),insert(e,s,t),insert(e,i,t)},p(e,t){(e.Object||e.result_matched_fields)&&c!==(c=matched_color(t.item.matched,t.item.query))&&(detachBefore(r),r.insertAdjacentHTML("beforebegin",c))},d(e){e&&(detachNode(a),detachNode(s),detachNode(i))}}}function create_each_block(e,t){for(var a,r,n,s,i,c=t.key,d=t.value,l=[],o=0;o<d.length;o+=1)l[o]=create_each_block_1(e,get_each_context(t,d,o));var m=new Transition({root:e.root,store:e.store,slots:{default:createFragment()},data:{transition:!0,type:"fly",x:30,delay:500}});return{c(){a=createElement("div"),r=createElement("label"),n=createText(c),s=createText("\r\n                ");for(var e=0;e<l.length;e+=1)l[e].c();i=createComment(),m._fragment.c(),r.className="label title is-size-4",a.className="column is-4"},m(e,t){insert(e,a,t),append(m._slotted.default,r),append(r,n),append(m._slotted.default,s);for(var c=0;c<l.length;c+=1)l[c].m(m._slotted.default,null);append(m._slotted.default,i),m._mount(a,null)},p(t,a){if((t.Object||t.result_matched_fields)&&c!==(c=a.key)&&setData(n,c),t.Object||t.result_matched_fields){d=a.value;for(var r=0;r<d.length;r+=1){const n=get_each_context(a,d,r);l[r]?l[r].p(t,n):(l[r]=create_each_block_1(e,n),l[r].c(),l[r].m(i.parentNode,i))}for(;r<l.length;r+=1)l[r].d(1);l.length=d.length}},d(e){e&&detachNode(a),destroyEach(l,e),m.destroy()}}}function RemedyFound(e){init(this,e),this._state=assign(assign({Object:Object},data$2()),e.data),this._recompute({data:1,remedy_found:1},this._state),this._intro=!0,this._fragment=create_main_fragment$2(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}assign(RemedyFound.prototype,proto),assign(RemedyFound.prototype,methods$1),RemedyFound.prototype._recompute=function(e,t){e.data&&this._differs(t.disabled,t.disabled=disabled(t))&&(e.disabled=!0),e.remedy_found&&this._differs(t.remedy_found,t.remedy_found=remedy_found(t))&&(e.remedy_found=!0)};export{RemedyFound as a,SlidingPaneSet as b,SlidingPane as c};
//# sourceMappingURL=chunk-e0604776.js.map
