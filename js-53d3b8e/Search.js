var K_ENV="prod",K_ENV_DEV="dev",K_ENV_TEST="test",K_ENV_PROD="prod";import{w as addListener,a as append,b as assign,c as assignTrue,z as createComment,d as createElement,e as createFragment,f as createText,A as destroyEach,g as detachNode,h as flush,i as init,j as insert,l as proto,m as removeFromStore,x as removeListener,X as selectOption,Y as selectValue,y as setAttribute,B as setData,C as setStyle,n as Icon,E as Notification,D as Panel,o as Message,q as ViewScaffold,r as PageTitle}from"./chunk-10c73911.js";import{a as Router}from"./chunk-47ccaf79.js";import{a as SearchableSelect}from"./chunk-84272e14.js";import{b as SubmitButton,a as ConfirmButton}from"./chunk-fd52a1b9.js";import{a as Remedies}from"./chunk-8a0ef651.js";import{a as Model}from"./chunk-2f526612.js";import{a as RemedyFound}from"./chunk-11cbabe4.js";import"./chunk-4f945c33.js";import{a as PatientAdd}from"./chunk-3737e248.js";import{a as TreatmentModel,b as AddTreatment}from"./chunk-f1318c00.js";import"./chunk-18c2ec65.js";import"./chunk-b404a42b.js";import"./chunk-d48a9a71.js";function has_searched({remedy_found:e}){return Object.keys(e).length}function user_role({$user:e}){return e&&e.role}function filterFields({remedies:e,omitted_field:t}){let a=["built","constitution","diathesis","miasm","temperament","temperature_and_weather","thermal_sensitivity","sensation","tendency_take_cold","desires","aversions","birth_history_milestones","tissues","stages_and_states","attacks_and_side","ailments_from","affections","clinical","modalities","mental_state_and_disorders","appearance_and_behavior","attention_and_concentration","expression","consciousness","mood_and_affect","memory","speech","thoughts_and_ideas","perception","intelligence","judgment","fear_and_live_alone","boring","peaceful","anger","hobby","habit","addiction","nutrition","anaemia","cyanosis","dehydration","jaundice","pulse","breathing","peculiar_rare_symptoms"],r=[];if(e.length){for(let[s,n]of Object.entries(e[0]))a.includes(s)||t.includes(s)||r.push(s);return r.push(...a),r}}function remedy_names({remedies:e}){let t=[];for(let a in e){let r=e[a];t.push(r.name)}return t}function loadSymptoms({remedies:e}){let t=[];for(let a in e){Object.entries(e[a]).forEach(([e,a])=>{t[e]=[]});break}for(let a in e){let r=e[a];Object.entries(r).forEach(([e,a])=>{a&&"string"==typeof a&&t[e].push(a.split(","))})}return t}function searchable_withkey({loadSymptoms:e}){let t=[],a=0;return Object.entries(e).forEach(([r,s])=>{let n=e[r];t[r]=[];for(let e in n)if(Array.isArray(n[e]))for(let s in n[e])t[r].push({id:a++,name:n[e][s]})}),t}function searchable_symp({loadSymptoms:e}){let t=[],a=0;for(let r in e){let s=e[r];for(let e in s)if(Array.isArray(s[e]))for(let n in s[e]){let o=s[e][n]+" -> "+r;t.push({id:a++,name:o})}}return t}function data(){return{is_loading:!1,is_error:!1,error_message:"",is_active_case_modal:!1,selected_symptom:"",selected_symp:"",selected_keyed_symp:"",result_symptoms:"",remedies:{},data:{},remedy_found:{},remedy_names:[],omitted_field:["id","name","created","modified","deleted","patient","treatments","book_references","total_data_size"],patient:{name:"",age:"",gender:"",phone:"",address:"",patient_type:"none"},tracker:{saving:!1,saved:!1,error:!1},page:{title:"Search Remedy",icon:"search",icon_badge:"plus"},valid:!1}}var methods={loadRemedies(){Remedies.getAll({limit:1e3}).then(e=>{this.set({remedies:e.response})}).catch(e=>{console.log(e)})},reset(e){e&&e.doing(),this.set({data:{},p_data:{}}),this.set({remedy_found:{}}),e&&e.done()},back(){this.set({remedy_found:{}}),this.set({result_symptoms:{}})},select_symptom(e){this.set({selected_symptom:e})},showSymptoms(e){this.set({result_symptoms:e.symptoms,field_name:e.field})},saveHistory(){let{data:e}=this.get();this.set({tracker:{saving:!0,saved:!1,error:!1}}),Model.create(e).then(e=>{this.set({tracker:{saving:!1,saved:!0,error:!1},data:e.response}),setTimeout(()=>{this.set({tracker:{saved:!1}}),this.reset()},1500)}).catch(e=>{"406"==e.response.records.errorCode?this.set({error_message:e.response.records.userMessage}):this.set({error_message:"There was an error adding history"}),this.set({tracker:{saving:!1,saved:!1,error:!0}}),setTimeout(()=>{this.set({tracker:{error:!1}})},3e3)})},saveTreatment(e){let{data:t}=this.get();this.set({tracker:{saving:!0,saved:!1,error:!1}}),TreatmentModel.createWithCase({data:e,case:t}).then(e=>{this.set({tracker:{saving:!1,saved:!0,error:!1}}),setTimeout(()=>{this.set({tracker:{saved:!1}}),this.reset()},1500)}).catch(e=>{console.log(e)})},search(e){e.preventDefault();var{data:t,valid:a,remedies:r}=this.get();let s=[],n={};console.log(t),this.set({tracker:{saving:!0,saved:!1,error:!1}});for(let[e,a]of Object.entries(t))a&&"patient"!=e&&(console.log(a),s[e]=a.split(","));for(let[e,t]of Object.entries(s))t.forEach(t=>{r.forEach(a=>{""!=a[e]&&a[e]&&a[e].split(",").forEach(r=>{r.trim()===t.trim()&&""!=t.trim()&&(n.hasOwnProperty(a.name)?(n[a.name].mark++,n[a.name].field+=", "+e,n[a.name].symptoms+=", "+t.trim()):(n[a.name]={},n[a.name].field=e,n[a.name].mark=1,n[a.name].symptoms=t.trim()))})})});this.set({remedy_found:n}),setTimeout(()=>{this.set({tracker:{saved:!1}}),Router.navigate("search")},1500)}};function oncreate(){this.on("state",({changed:e,current:t,previous:a})=>{let{data:r,selected_symptom:s}=this.get();t.selected_keyed_symp!=a.selected_keyed_symp&&(r[s]=r[s]?r[s]+", "+t.selected_keyed_symp:t.selected_keyed_symp,this.set({data:r}))}),this.on("saveTreatment",e=>{this.saveTreatment(e)}),this.on("addPatient",e=>{let{data:t}=this.get();t.patient=e,this.set({data:t})}),this.on("showSymptoms",e=>{this.showSymptoms(e)}),this.loadRemedies()}function click_handler(e){const{component:t,ctx:a}=this._svelte;t.select_symptom(a.key)}function get_each2_context(e,t,a){const r=Object.create(e);return r.key=t[a],r}function get_each1_context_1(e,t,a){const r=Object.create(e);return r.key=t[a],r.index=a,r}function get_each0_context_1(e,t,a){const r=Object.create(e);return r.key=t[a],r.index=a,r}function get_each1_context(e,t,a){const r=Object.create(e);return r.key=t[a][0],r.value=t[a][1],r.i=a,r}function get_each0_context(e,t,a){const r=Object.create(e);return r.key=t[a][0],r.value=t[a][1],r.i=a,r}function create_main_fragment(e,t){var a,r,s,n,o,d,c,l,m,i,_={},p={page:t.page},u=new PageTitle({root:e.root,store:e.store,slots:{default:createFragment()},data:p}),h=t.tracker.error&&create_if_block_7(e,t),f={};void 0!==t.patient&&(f.patient=t.patient,_.patient=!0),void 0!==t.data&&(f.data=t.data,_.data=!0),void 0!==t.p_data&&(f.p_data=t.p_data,_.p_data=!0);var y=new PatientAdd({root:e.root,store:e.store,data:f,_bind(t,a){var r={};!_.patient&&t.patient&&(r.patient=a.patient),!_.data&&t.data&&(r.data=a.data),!_.p_data&&t.p_data&&(r.p_data=a.p_data),e._set(r),_={}}});e.root._beforecreate.push(()=>{y._bind({patient:1,data:1,p_data:1},y.get())}),y.on("addPatient",function(t){e.fire("addPatient",t)});var v=!t.has_searched&&create_if_block_5(e,t),g=t.has_searched&&create_if_block_4(e,t),k=t.has_searched&&!t.data.patient&&create_if_block_3(e,t),b=!t.has_searched&&create_if_block(e,t),x={is_loading:t.is_loading,is_error:t.is_error,error_message:t.error_message},N=new ViewScaffold({root:e.root,store:e.store,slots:{default:createFragment()},data:x});return{c(){a=createElement("div"),u._fragment.c(),r=createText("\r\n\r\n  "),h&&h.c(),s=createText("\r\n\r\n    "),y._fragment.c(),n=createText("\r\n    "),o=createElement("br"),d=createText("\r\n  "),v&&v.c(),c=createText("\r\n\r\n  "),g&&g.c(),l=createText("\r\n  \r\n  "),k&&k.c(),m=createText("\r\n  \r\n  "),b&&b.c(),i=createComment(),N._fragment.c(),a.className="page-content"},m(e,t){insert(e,a,t),u._mount(a,null),append(a,r),h&&h.m(N._slotted.default,null),append(N._slotted.default,s),y._mount(N._slotted.default,null),append(N._slotted.default,n),append(N._slotted.default,o),append(N._slotted.default,d),v&&v.m(N._slotted.default,null),append(N._slotted.default,c),g&&g.m(N._slotted.default,null),append(N._slotted.default,l),k&&k.m(N._slotted.default,null),append(N._slotted.default,m),b&&b.m(N._slotted.default,null),append(N._slotted.default,i),N._mount(a,null)},p(a,r){t=r;var n={};a.page&&(n.page=t.page),u._set(n),t.tracker.error?h?h.p(a,t):((h=create_if_block_7(e,t)).c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null);var o={};!_.patient&&a.patient&&(o.patient=t.patient,_.patient=void 0!==t.patient),!_.data&&a.data&&(o.data=t.data,_.data=void 0!==t.data),!_.p_data&&a.p_data&&(o.p_data=t.p_data,_.p_data=void 0!==t.p_data),y._set(o),_={},t.has_searched?v&&(v.d(1),v=null):v?v.p(a,t):((v=create_if_block_5(e,t)).c(),v.m(c.parentNode,c)),t.has_searched?g?g.p(a,t):((g=create_if_block_4(e,t)).c(),g.m(l.parentNode,l)):g&&(g.d(1),g=null),t.has_searched&&!t.data.patient?k||((k=create_if_block_3(e,t)).c(),k.m(m.parentNode,m)):k&&(k.d(1),k=null),t.has_searched?b&&(b.d(1),b=null):b?b.p(a,t):((b=create_if_block(e,t)).c(),b.m(i.parentNode,i));var d={};a.is_loading&&(d.is_loading=t.is_loading),a.is_error&&(d.is_error=t.is_error),a.error_message&&(d.error_message=t.error_message),N._set(d)},d(e){e&&detachNode(a),u.destroy(),h&&h.d(),y.destroy(),v&&v.d(),g&&g.d(),k&&k.d(),b&&b.d(),N.destroy()}}}function create_if_block_7(e,t){var a,r=new Notification({root:e.root,store:e.store,slots:{default:createFragment()},data:{type:"danger"}});return{c(){a=createText(t.error_message),r._fragment.c()},m(e,t){append(r._slotted.default,a),r._mount(e,t)},p(e,t){e.error_message&&setData(a,t.error_message)},d(e){r.destroy(e)}}}function create_if_block_5(e,t){for(var a,r,s,n,o,d,c,l,m,i,_,p,u,h,f,y,v,g,k,b,x,N,E,T,S,j,w,O,F,C,L,D,A,P,V,R,z,M,H,K,B=!1,W=!1,$={},q={},I={},X=t.Object.entries(t.data),Y=[],G=0;G<X.length;G+=1)Y[G]=create_each_block_4(e,get_each0_context(t,X,G));var J=new Message({root:e.root,store:e.store,slots:{default:createFragment()},data:{title:"Records",color:"light"}}),Q=t.Object.entries(t.data),U=[];for(G=0;G<Q.length;G+=1)U[G]=create_each_block_3(e,get_each1_context(t,Q,G));function Z(){B=!0,e.set({selected_symptom:selectValue(m)}),B=!1}function ee(){W=!0,t.data[t.selected_symptom]=v.value,e.set({data:t.data,selected_symptom:t.selected_symptom,Object:t.Object}),W=!1}var te={data:t.searchable_withkey[t.selected_symptom],placeholder:"Choose...",searchKey:"name",searchValue:"id"};void 0!==t.selected_keyed_symp&&(te._name=t.selected_keyed_symp,$._name=!0);var ae=new SearchableSelect({root:e.root,store:e.store,data:te,_bind(t,a){var r={};!$._name&&t._name&&(r.selected_keyed_symp=a._name),e._set(r),$={}}});e.root._beforecreate.push(()=>{ae._bind({_name:1},ae.get())});var re={data:t.searchable_symp,placeholder:"Choose...",searchKey:"name",searchValue:"id"};void 0!==t.selected_symp&&(re._name=t.selected_symp,q._name=!0);var se=new SearchableSelect({root:e.root,store:e.store,data:re,_bind(t,a){var r={};!q._name&&t._name&&(r.selected_symp=a._name),e._set(r),q={}}});e.root._beforecreate.push(()=>{se._bind({_name:1},se.get())});var ne={classes:"is-primary is-medium is-pulled-right",icon:"search",icon_size:"small",text:"Search"};void 0!==t.tracker&&(ne.tracker=t.tracker,I.tracker=!0);var oe=new SubmitButton({root:e.root,store:e.store,data:ne,_bind(t,a){var r={};!I.tracker&&t.tracker&&(r.tracker=a.tracker),e._set(r),I={}}});e.root._beforecreate.push(()=>{oe._bind({tracker:1},oe.get())});var de=new Panel({root:e.root,store:e.store,slots:{default:createFragment()},data:{title:"Patient Symptoms",has_toolbar:!0}});function ce(t){e.search(t)}return{c(){a=createElement("form"),r=createElement("div"),s=createElement("div");for(var B=0;B<Y.length;B+=1)Y[B].c();n=createComment(),J._fragment.c(),o=createText("\r\n\r\n          "),d=createElement("div"),c=createElement("div"),l=createElement("span"),m=createElement("select"),(i=createElement("option")).textContent="Select Type";for(B=0;B<U.length;B+=1)U[B].c();_=createText("\r\n\r\n            "),p=createElement("div"),u=createElement("p"),h=createElement("label"),f=createText(t.selected_symptom),y=createText("\r\n                "),v=createElement("textarea"),k=createText("\r\n          "),b=createElement("div"),(x=createElement("p")).textContent="Suggestions",N=createText("\r\n\r\n            "),E=createElement("div"),T=createElement("p"),S=createElement("label"),j=createText(t.selected_symptom),w=createText(" Symptoms in the System"),O=createText("\r\n                  "),ae._fragment.c(),F=createText("\r\n\r\n            "),C=createElement("div"),L=createElement("p"),(D=createElement("label")).textContent="All Symptoms in the System",A=createText("\r\n                  "),se._fragment.c(),P=createText("\r\n            "),V=createElement("div"),R=createElement("p"),(z=createElement("label")).textContent="Â ",M=createText("\r\n                "),oe._fragment.c(),de._fragment.c(),H=createText("\r\n      "),K=createElement("br"),s.className="column",i.__value="",i.value=i.__value,addListener(m,"change",Z),"selected_symptom"in t||e.root._beforecreate.push(Z),m.className="input",l.className="select is-fullwidth",c.className="field",h.className="label",setStyle(h,"text-transform","capitalize"),addListener(v,"input",ee),v.className="textarea",v.placeholder=g=t.selected_symptom+"...",setStyle(v,"height","15rem"),u.className="control",p.className="field",d.className="column",x.className="title is-5",S.className="label",setStyle(S,"text-transform","capitalize"),T.className="control",E.className="field",D.className="label",setStyle(D,"text-transform","capitalize"),L.className="control",C.className="field",z.className="label",R.className="control",V.className="field",b.className="column",r.className="columns",addListener(a,"submit",ce)},m(e,g){insert(e,a,g),append(de._slotted.default,r),append(r,s);for(var B=0;B<Y.length;B+=1)Y[B].m(J._slotted.default,null);append(J._slotted.default,n),J._mount(s,null),append(r,o),append(r,d),append(d,c),append(c,l),append(l,m),append(m,i);for(B=0;B<U.length;B+=1)U[B].m(m,null);selectOption(m,t.selected_symptom),append(d,_),append(d,p),append(p,u),append(u,h),append(h,f),append(u,y),append(u,v),v.value=t.data[t.selected_symptom],append(r,k),append(r,b),append(b,x),append(b,N),append(b,E),append(E,T),append(T,S),append(S,j),append(S,w),append(T,O),ae._mount(T,null),append(b,F),append(b,C),append(C,L),append(L,D),append(L,A),se._mount(L,null),append(b,P),append(b,V),append(V,R),append(R,z),append(R,M),oe._mount(R,null),de._mount(a,null),insert(e,H,g),insert(e,K,g)},p(a,r){if(t=r,a.Object||a.data){X=t.Object.entries(t.data);for(var s=0;s<X.length;s+=1){const r=get_each0_context(t,X,s);Y[s]?Y[s].p(a,r):(Y[s]=create_each_block_4(e,r),Y[s].c(),Y[s].m(n.parentNode,n))}for(;s<Y.length;s+=1)Y[s].d(1);Y.length=X.length}if(a.omitted_field||a.Object||a.data){Q=t.Object.entries(t.data);for(s=0;s<Q.length;s+=1){const r=get_each1_context(t,Q,s);U[s]?U[s].p(a,r):(U[s]=create_each_block_3(e,r),U[s].c(),U[s].m(m,null))}for(;s<U.length;s+=1)U[s].d(1);U.length=Q.length}!B&&a.selected_symptom&&selectOption(m,t.selected_symptom),a.selected_symptom&&setData(f,t.selected_symptom),W||!a.data&&!a.selected_symptom||(v.value=t.data[t.selected_symptom]),a.selected_symptom&&g!==(g=t.selected_symptom+"...")&&(v.placeholder=g),a.selected_symptom&&setData(j,t.selected_symptom);var o={};(a.searchable_withkey||a.selected_symptom)&&(o.data=t.searchable_withkey[t.selected_symptom]),!$._name&&a.selected_keyed_symp&&(o._name=t.selected_keyed_symp,$._name=void 0!==t.selected_keyed_symp),ae._set(o),$={};var d={};a.searchable_symp&&(d.data=t.searchable_symp),!q._name&&a.selected_symp&&(d._name=t.selected_symp,q._name=void 0!==t.selected_symp),se._set(d),q={};var c={};!I.tracker&&a.tracker&&(c.tracker=t.tracker,I.tracker=void 0!==t.tracker),oe._set(c),I={}},d(e){e&&detachNode(a),destroyEach(Y,e),J.destroy(),destroyEach(U,e),removeListener(m,"change",Z),removeListener(v,"input",ee),ae.destroy(),se.destroy(),oe.destroy(),de.destroy(),removeListener(a,"submit",ce),e&&(detachNode(H),detachNode(K))}}}function create_each_block_4(e,t){var a,r,s,n,o,d,c,l=t.key,m=t.value;return{c(){a=createElement("p"),r=createElement("span"),s=createText(l),n=createText(": "),o=createText(m),d=createText(" "),c=createElement("br"),r.className="has-text-weight-bold is-size-5"},m(e,t){insert(e,a,t),append(a,r),append(r,s),append(a,n),append(a,o),insert(e,d,t),insert(e,c,t)},p(e,t){(e.Object||e.data)&&l!==(l=t.key)&&setData(s,l),(e.Object||e.data)&&m!==(m=t.value)&&setData(o,m)},d(e){e&&(detachNode(a),detachNode(d),detachNode(c))}}}function create_if_block_6(e,t){var a,r,s,n=t.key;return{c(){a=createElement("option"),r=createText(n),a.__value=s=t.key,a.value=a.__value},m(e,t){insert(e,a,t),append(a,r)},p(e,t){(e.Object||e.data)&&n!==(n=t.key)&&setData(r,n),(e.Object||e.data)&&s!==(s=t.key)&&(a.__value=s),a.value=a.__value},d(e){e&&detachNode(a)}}}function create_each_block_3(e,t){var a,r=!t.omitted_field.includes(t.key)&&create_if_block_6(e,t);return{c(){r&&r.c(),a=createComment()},m(e,t){r&&r.m(e,t),insert(e,a,t)},p(t,s){s.omitted_field.includes(s.key)?r&&(r.d(1),r=null):r?r.p(t,s):((r=create_if_block_6(e,s)).c(),r.m(a.parentNode,a))},d(e){r&&r.d(e),e&&detachNode(a)}}}function create_if_block_4(e,t){var a,r,s,n,o,d,c={},l={},m={field_name:t.field_name,result_symptoms:t.result_symptoms};void 0!==t.data&&(m.data=t.data,c.data=!0),void 0!==t.tracker&&(m.tracker=t.tracker,c.tracker=!0),void 0!==t.remedy_found&&(m.remedy_found=t.remedy_found,c.remedy_found=!0);var i=new RemedyFound({root:e.root,store:e.store,data:m,_bind(t,a){var r={};!c.data&&t.data&&(r.data=a.data),!c.tracker&&t.tracker&&(r.tracker=a.tracker),!c.remedy_found&&t.remedy_found&&(r.remedy_found=a.remedy_found),e._set(r),c={}}});e.root._beforecreate.push(()=>{i._bind({data:1,tracker:1,remedy_found:1},i.get())}),i.on("back",function(t){e.back()}),i.on("showSymptoms",function(t){e.fire("showSymptoms",t)}),i.on("saveHistory",function(t){e.saveHistory()});var _={result_symptoms:t.result_symptoms};void 0!==t.remedy_names&&(_.remedy_names=t.remedy_names,l.remedy_names=!0),void 0!==t.data&&(_.data=t.data,l.data=!0),void 0!==t.tracker&&(_.tracker=t.tracker,l.tracker=!0),void 0!==t.remedy_found&&(_.remedy_found=t.remedy_found,l.remedy_found=!0);var p=new AddTreatment({root:e.root,store:e.store,data:_,_bind(t,a){var r={};!l.remedy_names&&t.remedy_names&&(r.remedy_names=a.remedy_names),!l.data&&t.data&&(r.data=a.data),!l.tracker&&t.tracker&&(r.tracker=a.tracker),!l.remedy_found&&t.remedy_found&&(r.remedy_found=a.remedy_found),e._set(r),l={}}});return e.root._beforecreate.push(()=>{p._bind({remedy_names:1,data:1,tracker:1,remedy_found:1},p.get())}),p.on("saveTreatment",function(t){e.fire("saveTreatment",t)}),{c(){a=createElement("div"),r=createElement("div"),i._fragment.c(),s=createText("\r\n    "),n=createElement("div"),p._fragment.c(),o=createText("\r\n  \r\n  "),d=createElement("br"),r.className="column",n.className="column",a.className="columns"},m(e,t){insert(e,a,t),append(a,r),i._mount(r,null),append(a,s),append(a,n),p._mount(n,null),insert(e,o,t),insert(e,d,t)},p(e,a){t=a;var r={};e.field_name&&(r.field_name=t.field_name),e.result_symptoms&&(r.result_symptoms=t.result_symptoms),!c.data&&e.data&&(r.data=t.data,c.data=void 0!==t.data),!c.tracker&&e.tracker&&(r.tracker=t.tracker,c.tracker=void 0!==t.tracker),!c.remedy_found&&e.remedy_found&&(r.remedy_found=t.remedy_found,c.remedy_found=void 0!==t.remedy_found),i._set(r),c={};var s={};e.result_symptoms&&(s.result_symptoms=t.result_symptoms),!l.remedy_names&&e.remedy_names&&(s.remedy_names=t.remedy_names,l.remedy_names=void 0!==t.remedy_names),!l.data&&e.data&&(s.data=t.data,l.data=void 0!==t.data),!l.tracker&&e.tracker&&(s.tracker=t.tracker,l.tracker=void 0!==t.tracker),!l.remedy_found&&e.remedy_found&&(s.remedy_found=t.remedy_found,l.remedy_found=void 0!==t.remedy_found),p._set(s),l={}},d(e){e&&detachNode(a),i.destroy(),p.destroy(),e&&(detachNode(o),detachNode(d))}}}function create_if_block_3(e,t){var a;return{c(){(a=createElement("div")).innerHTML='<label class="subtitle is-size-5 has-text-warning is-centered"> Selection patient is mendatory for saving Case History or Treatment ! </label>',a.className="columns is-centered"},m(e,t){insert(e,a,t)},d(e){e&&detachNode(a)}}}function create_if_block(e,t){var a,r,s,n,o=new ConfirmButton({root:e.root,store:e.store,data:{text:"Reset",color:"danger",size:"",icon:"refresh",icon_only:!1,disabled:!1}});o.on("do",function(t){e.reset(t)});var d=t.remedies.length&&create_if_block_1(e,t),c=new Panel({root:e.root,store:e.store,slots:{default:createFragment(),toolbar:createFragment()},data:{title:"Sections",has_toolbar:!0}});return{c(){a=createElement("div"),o._fragment.c(),r=createText("\r\n\r\n    "),s=createElement("div"),n=createElement("div"),d&&d.c(),c._fragment.c(),setAttribute(a,"slot","toolbar"),n.className="column",s.className="columns"},m(e,t){append(c._slotted.toolbar,a),o._mount(a,null),append(c._slotted.default,r),append(c._slotted.default,s),append(s,n),d&&d.m(n,null),c._mount(e,t)},p(t,a){a.remedies.length?d?d.p(t,a):((d=create_if_block_1(e,a)).c(),d.m(n,null)):d&&(d.d(1),d=null)},d(e){o.destroy(),d&&d.d(),c.destroy(e)}}}function create_if_block_1(e,t){for(var a,r,s,n,o,d,c,l,m,i,_,p,u,h,f,y,v,g,k,b,x=!1,N=!1,E=t.filterFields,T=[],S=0;S<E.length;S+=1)T[S]=create_each_block_2(e,get_each0_context_1(t,E,S));function j(){x=!0,e.set({selected_symptom:selectValue(c)}),x=!1}var w=t.filterFields,O=[];for(S=0;S<w.length;S+=1)O[S]=create_each_block_1(e,get_each1_context_1(t,w,S));function F(){N=!0,e.set({selected_symptom:selectValue(f)}),N=!1}var C=t.filterFields,L=[];for(S=0;S<C.length;S+=1)L[S]=create_each_block(e,get_each2_context(t,C,S));return{c(){a=createElement("div"),r=createElement("div"),(s=createElement("label")).textContent="With Number",n=createText("\r\n            "),o=createElement("div"),d=createElement("span"),c=createElement("select"),(l=createElement("option")).textContent="Select Type";for(var x=0;x<T.length;x+=1)T[x].c();m=createText("\r\n          "),i=createElement("div"),(_=createElement("label")).textContent="Without Number",p=createText("\r\n            "),u=createElement("div"),h=createElement("span"),f=createElement("select"),(y=createElement("option")).textContent="Select Type";for(x=0;x<O.length;x+=1)O[x].c();v=createText("\r\n\r\n        "),g=createElement("div"),k=createElement("div"),b=createElement("div");for(x=0;x<L.length;x+=1)L[x].c();s.className="label",l.__value="",l.value=l.__value,addListener(c,"change",j),"selected_symptom"in t||e.root._beforecreate.push(j),c.className="input",d.className="select is-fullwidth",o.className="field",r.className="column",_.className="label",y.__value="",y.value=y.__value,addListener(f,"change",F),"selected_symptom"in t||e.root._beforecreate.push(F),f.className="input",h.className="select is-fullwidth",u.className="field",i.className="column",a.className="columns",b.className="buttons",k.className="column",g.className="columns"},m(e,x){insert(e,a,x),append(a,r),append(r,s),append(r,n),append(r,o),append(o,d),append(d,c),append(c,l);for(var N=0;N<T.length;N+=1)T[N].m(c,null);selectOption(c,t.selected_symptom),append(a,m),append(a,i),append(i,_),append(i,p),append(i,u),append(u,h),append(h,f),append(f,y);for(N=0;N<O.length;N+=1)O[N].m(f,null);selectOption(f,t.selected_symptom),insert(e,v,x),insert(e,g,x),append(g,k),append(k,b);for(N=0;N<L.length;N+=1)L[N].m(b,null)},p(t,a){if(t.filterFields){E=a.filterFields;for(var r=0;r<E.length;r+=1){const s=get_each0_context_1(a,E,r);T[r]?T[r].p(t,s):(T[r]=create_each_block_2(e,s),T[r].c(),T[r].m(c,null))}for(;r<T.length;r+=1)T[r].d(1);T.length=E.length}if(!x&&t.selected_symptom&&selectOption(c,a.selected_symptom),t.filterFields){w=a.filterFields;for(r=0;r<w.length;r+=1){const s=get_each1_context_1(a,w,r);O[r]?O[r].p(t,s):(O[r]=create_each_block_1(e,s),O[r].c(),O[r].m(f,null))}for(;r<O.length;r+=1)O[r].d(1);O.length=w.length}if(!N&&t.selected_symptom&&selectOption(f,a.selected_symptom),t.filterFields||t.selected_symptom||t.data){C=a.filterFields;for(r=0;r<C.length;r+=1){const s=get_each2_context(a,C,r);L[r]?L[r].p(t,s):(L[r]=create_each_block(e,s),L[r].c(),L[r].m(b,null))}for(;r<L.length;r+=1)L[r].d(1);L.length=C.length}},d(e){e&&detachNode(a),destroyEach(T,e),removeListener(c,"change",j),destroyEach(O,e),removeListener(f,"change",F),e&&(detachNode(v),detachNode(g)),destroyEach(L,e)}}}function create_each_block_2(e,t){var a,r,s,n,o,d=t.index+1,c=t.key;return{c(){a=createElement("option"),r=createText(d),s=createText(" - "),n=createText(c),a.__value=o=t.key,a.value=a.__value},m(e,t){insert(e,a,t),append(a,r),append(a,s),append(a,n)},p(e,t){e.filterFields&&c!==(c=t.key)&&setData(n,c),e.filterFields&&o!==(o=t.key)&&(a.__value=o),a.value=a.__value},d(e){e&&detachNode(a)}}}function create_each_block_1(e,t){var a,r,s,n=t.key;return{c(){a=createElement("option"),r=createText(n),a.__value=s=t.key,a.value=a.__value},m(e,t){insert(e,a,t),append(a,r)},p(e,t){e.filterFields&&n!==(n=t.key)&&setData(r,n),e.filterFields&&s!==(s=t.key)&&(a.__value=s),a.value=a.__value},d(e){e&&detachNode(a)}}}function create_if_block_2(e,t){var a;return{c(){(a=createElement("span")).innerHTML='<i class="fa fa-check"></i>',a.className="icon is-small"},m(e,t){insert(e,a,t)},d(e){e&&detachNode(a)}}}function create_each_block(e,t){var a,r,s,n,o,d,c=t.key,l=t.data[t.key]&&create_if_block_2(e,t);return{c(){a=createElement("button"),l&&l.c(),r=createText("\r\n                    "),s=createElement("span"),n=createText(c),o=createText("\r\n                  "),a._svelte={component:e,ctx:t},addListener(a,"click",click_handler),a.type="button",a.className=d="button is-medium is-"+(t.key==t.selected_symptom?"success":t.data[t.key]?"":"info")+" ",setStyle(a,"text-transform","capitalize"),setStyle(a,"margin-left",".6rem"),setStyle(a,"margin-bottom",".6rem")},m(e,t){insert(e,a,t),l&&l.m(a,null),append(a,r),append(a,s),append(s,n),append(a,o)},p(s,o){(t=o).data[t.key]?l||((l=create_if_block_2(e,t)).c(),l.m(a,r)):l&&(l.d(1),l=null),s.filterFields&&c!==(c=t.key)&&setData(n,c),a._svelte.ctx=t,(s.filterFields||s.selected_symptom||s.data)&&d!==(d="button is-medium is-"+(t.key==t.selected_symptom?"success":t.data[t.key]?"":"info")+" ")&&(a.className=d)},d(e){e&&detachNode(a),l&&l.d(),removeListener(a,"click",click_handler)}}}function Search(e){init(this,e),this._state=assign(assign(assign({Object:Object},this.store._init(["user"])),data()),e.data),this.store._add(this,["user"]),this._recompute({remedy_found:1,$user:1,remedies:1,omitted_field:1,loadSymptoms:1},this._state),this._intro=!0,this._handlers.destroy=[removeFromStore],this._fragment=create_main_fragment(this,this._state),this.root._oncreate.push(()=>{oncreate.call(this),this.fire("update",{changed:assignTrue({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}assign(Search.prototype,proto),assign(Search.prototype,methods),Search.prototype._recompute=function(e,t){e.remedy_found&&this._differs(t.has_searched,t.has_searched=has_searched(t))&&(e.has_searched=!0),e.$user&&this._differs(t.user_role,t.user_role=user_role(t))&&(e.user_role=!0),(e.remedies||e.omitted_field)&&this._differs(t.filterFields,t.filterFields=filterFields(t))&&(e.filterFields=!0),e.remedies&&(this._differs(t.remedy_names,t.remedy_names=remedy_names(t))&&(e.remedy_names=!0),this._differs(t.loadSymptoms,t.loadSymptoms=loadSymptoms(t))&&(e.loadSymptoms=!0)),e.loadSymptoms&&(this._differs(t.searchable_withkey,t.searchable_withkey=searchable_withkey(t))&&(e.searchable_withkey=!0),this._differs(t.searchable_symp,t.searchable_symp=searchable_symp(t))&&(e.searchable_symp=!0))};export default Search;
//# sourceMappingURL=Search.js.map
