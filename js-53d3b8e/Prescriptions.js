var K_ENV="prod",K_ENV_DEV="dev",K_ENV_TEST="test",K_ENV_PROD="prod";import{a as append,b as assign,c as assignTrue,d as createElement,e as createFragment,f as createText,g as detachNode,h as flush,i as init,j as insert,l as proto,n as Icon,q as ViewScaffold,r as PageTitle}from"./chunk-10c73911.js";import{a as Router}from"./chunk-47ccaf79.js";import{a as DataList}from"./chunk-57bab4c1.js";import{a as Model}from"./chunk-2f526612.js";import"./chunk-18c2ec65.js";import"./chunk-84272e14.js";function requestTransformer({data:r}){return(r,e)=>r.getAll(e,"/case_histories/with_treatments")}function data(){return{model_set:!1,is_loading:!1,is_error:!1,error_message:"",meta:{},data:[],Model:Model,View:"Prescriptions",entity_name:"Prescriptions",route_prefix:"prescriptions/",has_additional_buttons:!0,clickableRows:!0,columns:{id:"ID",name:"Patient Name",modified:"Last Visited Date"},search_placeholder:"",page:{title:"Prescriptions",icon:"copy",subtitle:"All Prescriptions in this System"},searchStringTransformer:r=>{var e=r.split("~"),s=[];""!=e[0]&&s.push("name[lk]:"+e[0]),e.shift();for(var a=0;a<e.length;a++){var t=e[a],o=t.split(":");""!=t&&void 0!==o[1]&&""!=o[1]&&s.push(o[0]+"[eq]:"+o[1])}return s.join(",")},valueTransformers:{id:(r,e)=>e.patient.id,name:(r,e)=>e.patient.name},classTransformers:{},styleTransformers:{}}}function oncreate(){this.on("rowClick",({row:r})=>{Router.navigate(`prescriptions/view/${r.id}`)})}function create_main_fragment(r,e){var s,a,t={},o={page:e.page},i=new PageTitle({root:r.root,store:r.store,data:o}),n={Model:e.Model,View:e.View,entity_name:e.entity_name,route_prefix:e.route_prefix,has_additional_buttons:e.has_additional_buttons,search_placeholder:e.search_placeholder,columns:e.columns,searchStringTransformer:e.searchStringTransformer,valueTransformers:e.valueTransformers,classTransformers:e.classTransformers,styleTransformers:e.styleTransformers,requestTransformer:e.requestTransformer,clickableRows:e.clickableRows};void 0!==e.is_loading&&(n.is_loading=e.is_loading,t.is_loading=!0),void 0!==e.is_error&&(n.is_error=e.is_error,t.is_error=!0),void 0!==e.error_message&&(n.error_message=e.error_message,t.error_message=!0),void 0!==e.data&&(n.data=e.data,t.data=!0),void 0!==e.meta&&(n.meta=e.meta,t.meta=!0);var _=new DataList({root:r.root,store:r.store,slots:{default:createFragment()},data:n,_bind(e,s){var a={};!t.is_loading&&e.is_loading&&(a.is_loading=s.is_loading),!t.is_error&&e.is_error&&(a.is_error=s.is_error),!t.error_message&&e.error_message&&(a.error_message=s.error_message),!t.data&&e.data&&(a.data=s.data),!t.meta&&e.meta&&(a.meta=s.meta),r._set(a),t={}}});r.root._beforecreate.push(()=>{_._bind({is_loading:1,is_error:1,error_message:1,data:1,meta:1},_.get())}),_.on("rowClick",function(e){r.fire("rowClick",e)});var m={is_loading:e.is_loading,is_error:e.is_error,error_message:e.error_message},l=new ViewScaffold({root:r.root,store:r.store,slots:{default:createFragment()},data:m});return{c(){s=createElement("div"),i._fragment.c(),a=createText("\r\n\r\n  "),_._fragment.c(),l._fragment.c(),s.className="page-content"},m(r,e){insert(r,s,e),i._mount(s,null),append(s,a),_._mount(l._slotted.default,null),l._mount(s,null)},p(r,s){e=s;var a={};r.page&&(a.page=e.page),i._set(a);var o={};r.Model&&(o.Model=e.Model),r.View&&(o.View=e.View),r.entity_name&&(o.entity_name=e.entity_name),r.route_prefix&&(o.route_prefix=e.route_prefix),r.has_additional_buttons&&(o.has_additional_buttons=e.has_additional_buttons),r.search_placeholder&&(o.search_placeholder=e.search_placeholder),r.columns&&(o.columns=e.columns),r.searchStringTransformer&&(o.searchStringTransformer=e.searchStringTransformer),r.valueTransformers&&(o.valueTransformers=e.valueTransformers),r.classTransformers&&(o.classTransformers=e.classTransformers),r.styleTransformers&&(o.styleTransformers=e.styleTransformers),r.requestTransformer&&(o.requestTransformer=e.requestTransformer),r.clickableRows&&(o.clickableRows=e.clickableRows),!t.is_loading&&r.is_loading&&(o.is_loading=e.is_loading,t.is_loading=void 0!==e.is_loading),!t.is_error&&r.is_error&&(o.is_error=e.is_error,t.is_error=void 0!==e.is_error),!t.error_message&&r.error_message&&(o.error_message=e.error_message,t.error_message=void 0!==e.error_message),!t.data&&r.data&&(o.data=e.data,t.data=void 0!==e.data),!t.meta&&r.meta&&(o.meta=e.meta,t.meta=void 0!==e.meta),_._set(o),t={};var n={};r.is_loading&&(n.is_loading=e.is_loading),r.is_error&&(n.is_error=e.is_error),r.error_message&&(n.error_message=e.error_message),l._set(n)},d(r){r&&detachNode(s),i.destroy(),_.destroy(),l.destroy()}}}function Prescriptions(r){init(this,r),this._state=assign(data(),r.data),this._recompute({data:1},this._state),this._intro=!0,this._fragment=create_main_fragment(this,this._state),this.root._oncreate.push(()=>{oncreate.call(this),this.fire("update",{changed:assignTrue({},this._state),current:this._state})}),r.target&&(this._fragment.c(),this._mount(r.target,r.anchor),flush(this))}assign(Prescriptions.prototype,proto),Prescriptions.prototype._recompute=function(r,e){r.data&&this._differs(e.requestTransformer,e.requestTransformer=requestTransformer(e))&&(r.requestTransformer=!0)};export default Prescriptions;
//# sourceMappingURL=Prescriptions.js.map
