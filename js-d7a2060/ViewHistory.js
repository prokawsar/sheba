var K_ENV="prod",K_ENV_DEV="dev",K_ENV_TEST="test",K_ENV_PROD="prod";import{w as addListener,a as append,b as assign,z as createComment,d as createElement,e as createFragment,f as createText,A as destroyEach,g as detachNode,h as flush,i as init,j as insert,l as proto,m as removeFromStore,x as removeListener,B as setData,n as Icon,c as assignTrue,y as setAttribute,E as Notification,D as Panel,o as Message,q as ViewScaffold,r as PageTitle,X as selectOption,Y as selectValue,C as setStyle}from"./chunk-4772d5c0.js";import{a as Router}from"./chunk-5811b7a5.js";import{a as SearchableSelect}from"./chunk-97880b15.js";import{b as SubmitButton,a as ConfirmButton}from"./chunk-2d6b7b97.js";import{a as PageTabBar}from"./chunk-d6fc968d.js";import{a as Remedies}from"./chunk-53cc462b.js";import{a as Model}from"./chunk-8e97f036.js";import{a as RemedyFound,b as SlidingPaneSet,c as SlidingPane}from"./chunk-d095372f.js";import"./chunk-03ca088f.js";import{a as PatientDetails}from"./chunk-59506d55.js";function tabs({link:e,tabs:t,id:a,is_detailed_route:r}){return e?(t.forEach(t=>{t.default_route?t.link=t.is_detailed_route?"javascript:void(0)":`${e}/${a}/${t.default_route}`:t.link=t.default_route?"javascript:void(0)":`${e}/${a}/${t.name}`}),t):t}function is_detailed_route({$nav:e}){return console.log(e),!(!e||void 0===e.params[1])&&e.params[1]}function data(){return{getTotalSpace:e=>e.children[0].clientWidth,getAvailableSpace:(e,t)=>e.clientWidth,tab_list:{},active_tab:"details"}}function click_handler(e){const{component:t,ctx:a}=this._svelte;t.set({active_tab:a.tab.name})}function get_each_context(e,t,a){const r=Object.create(e);return r.tab=t[a],r}function create_main_fragment(e,t){for(var a,r=t.tabs,s=[],n=0;n<r.length;n+=1)s[n]=create_each_block(e,get_each_context(t,r,n));var o={getTotalSpace:t.getTotalSpace,getAvailableSpace:t.getAvailableSpace,type:"boxed",alignment:"centered"},i=new PageTabBar({root:e.root,store:e.store,slots:{default:createFragment()},data:o});return{c(){for(var e=0;e<s.length;e+=1)s[e].c();a=createComment(),i._fragment.c()},m(e,t){for(var r=0;r<s.length;r+=1)s[r].m(i._slotted.default,null);append(i._slotted.default,a),i._mount(e,t)},p(t,n){if(t.tabs||t.active_tab){r=n.tabs;for(var o=0;o<r.length;o+=1){const i=get_each_context(n,r,o);s[o]?s[o].p(t,i):(s[o]=create_each_block(e,i),s[o].c(),s[o].m(a.parentNode,a))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}var c={};t.getTotalSpace&&(c.getTotalSpace=n.getTotalSpace),t.getAvailableSpace&&(c.getAvailableSpace=n.getAvailableSpace),i._set(c)},d(e){destroyEach(s,e),i.destroy(e)}}}function create_each_block(e,t){var a,r,s,n,o,i,c,l,d=t.tab.title,_={size:"small",icon:t.tab.icon},m=new Icon({root:e.root,store:e.store,data:_});return{c(){a=createElement("li"),r=createElement("a"),m._fragment.c(),s=createText("\r\n        "),n=createElement("span"),o=createText(d),c=createText("\r\n    "),r._svelte={component:e,ctx:t},addListener(r,"click",click_handler),r.href=i=t.tab.link?t.tab.link:"javascript:void(0)",a.className=l=t.tab.name==t.active_tab?"is-active ":""},m(e,t){insert(e,a,t),append(a,r),m._mount(r,null),append(r,s),append(r,n),append(n,o),append(a,c)},p(e,s){t=s;var n={};e.tabs&&(n.icon=t.tab.icon),m._set(n),e.tabs&&d!==(d=t.tab.title)&&setData(o,d),r._svelte.ctx=t,e.tabs&&i!==(i=t.tab.link?t.tab.link:"javascript:void(0)")&&(r.href=i),(e.tabs||e.active_tab)&&l!==(l=t.tab.name==t.active_tab?"is-active ":"")&&(a.className=l)},d(e){e&&detachNode(a),m.destroy(),removeListener(r,"click",click_handler)}}}function Tabs(e){init(this,e),this._state=assign(assign(this.store._init(["nav"]),data()),e.data),this.store._add(this,["nav"]),this._recompute({$nav:1,link:1,tabs:1,id:1,is_detailed_route:1},this._state),this._intro=!0,this._handlers.destroy=[removeFromStore],this._fragment=create_main_fragment(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}function entityId({$nav:e}){return e&&e.params[0]}function filterFields({remedies:e,omitted_field:t}){let a=["built","constitution","diathesis","miasm","temperament","temperature_and_weather","thermal_sensitivity","sensation","tendency_take_cold","desires","aversions","birth_history_milestones","tissues","stages_and_states","attacks_and_side","ailments_from","affections","clinical","modalities","mental_state_and_disorders","appearance_and_behavior","attention_and_concentration","expression","consciousness","mood_and_affect","memory","speech","thoughts_and_ideas","perception","intelligence","judgment","fear_and_live_alone","boring","peaceful","anger","hobby","habit","addiction","nutrition","anaemia","cyanosis","dehydration","jaundice","pulse","breathing","peculiar_rare_symptoms"],r=[];if(e.length){for(let[s,n]of Object.entries(e[0]))a.includes(s)||t.includes(s)||r.push(s);return r.push(...a),r}}function loadSymptoms({remedies:e}){let t=[];for(let a in e){Object.entries(e[a]).forEach(([e,a])=>{t[e]=[]});break}for(let a in e){let r=e[a];Object.entries(r).forEach(([e,a])=>{a&&"string"==typeof a&&t[e].push(a.split(","))})}return t}function data$1(){return{is_loading:!1,is_error:!1,error_message:"",selected_symptom:"",selected_symp:"",selected_keyed_symp:"",result_symptoms:"",remedies:{},data:{},meta:{},remedy_found:{},omitted_field:["id","name","created","modified","deleted","patient","treatments"],tracker:{saving:!1,saved:!1,error:!1},page:{title:"View Case History",subtitle:"Case History details",icon:"building-o",icon_badge:"pencil"}}}assign(Tabs.prototype,proto),Tabs.prototype._recompute=function(e,t){e.$nav&&this._differs(t.is_detailed_route,t.is_detailed_route=is_detailed_route(t))&&(e.is_detailed_route=!0),(e.link||e.tabs||e.id||e.is_detailed_route)&&this._differs(t.tabs,t.tabs=tabs(t))&&(e.tabs=!0)};var methods={load(){var{entityId:e}=this.get();this.set({is_loading:!0,is_error:!1}),Model&&Model.getOne(e).then(e=>{console.log(e),this.set({is_loading:!1,meta:e._meta,data:e.response})}).catch(e=>{var t="";void 0!==e&&void 0!==e.response&&void 0!==e.response.records&&(t=e.response.records.userMessage),this.set({is_error:!0,is_loading:!1,error_message:t})})},loadRemedies(){Remedies.getAll({limit:1e3}).then(e=>{this.set({remedies:e.response})}).catch(e=>{console.log(e)})},deleteHistory(e){e&&e.doing(),Model.delete(this.get().entityId).then(t=>{e.done(),Router.navigate("history")}).catch(()=>{e.error()})},save(){var{data:e,entityId:t,tracker:a}=this.get();this.set({tracker:{saving:!0,saved:!1,error:!1}}),Model.save(t,e).then(e=>{this.set({data:e.response,tracker:{saving:!1,saved:!0,error:!1}}),setTimeout(()=>{a.saved=!1,this.set({tracker:a})},1500)}).catch(e=>{console.log(e),this.set({error_message:"There was an error updating premise"}),this.set({tracker:{saving:!1,saved:!1,error:!0}}),setTimeout(()=>{this.set({tracker:{error:!1}})},1500)})}};function oncreate(){var{entityId:e}=this.get();this.load()}function get_each_context$1(e,t,a){const r=Object.create(e);return r.key=t[a][0],r.value=t[a][1],r.i=a,r}function create_main_fragment$1(e,t){var a,r,s,n,o,i,c,l,d=new ConfirmButton({root:e.root,store:e.store,data:{text:"Delete History",color:"danger",icon:"trash",icon_only:!1}});d.on("do",function(t){e.deleteHistory(t)});for(var _=t.data.patient&&create_if_block_1(e,t),m=t.Object.entries(t.data),p=[],u=0;u<m.length;u+=1)p[u]=create_each_block$1(e,get_each_context$1(t,m,u));var h=new Message({root:e.root,store:e.store,slots:{default:createFragment()},data:{title:"Records",color:"info"}}),f=new Panel({root:e.root,store:e.store,slots:{default:createFragment(),toolbar:createFragment()},data:{title:"Patient symptoms",has_toolbar:!0}}),g={is_loading:t.is_loading,is_error:t.is_error,error_message:t.error_message},v=new ViewScaffold({root:e.root,store:e.store,slots:{default:createFragment()},data:g});return{c(){a=createElement("div"),r=createElement("div"),d._fragment.c(),s=createText("\r\n\r\n    "),n=createElement("div"),o=createElement("div"),_&&_.c(),i=createText("\r\n      "),c=createElement("div");for(var e=0;e<p.length;e+=1)p[e].c();l=createComment(),h._fragment.c(),f._fragment.c(),v._fragment.c(),setAttribute(r,"slot","toolbar"),o.className="column is-5",c.className="column is-7",n.className="columns",a.className="page-content"},m(e,t){insert(e,a,t),append(f._slotted.toolbar,r),d._mount(r,null),append(f._slotted.default,s),append(f._slotted.default,n),append(n,o),_&&_.m(o,null),append(n,i),append(n,c);for(var m=0;m<p.length;m+=1)p[m].m(h._slotted.default,null);append(h._slotted.default,l),h._mount(c,null),f._mount(v._slotted.default,null),v._mount(a,null)},p(t,a){if(a.data.patient?_?_.p(t,a):((_=create_if_block_1(e,a)).c(),_.m(o,null)):_&&(_.d(1),_=null),t.Object||t.data||t.omitted_field){m=a.Object.entries(a.data);for(var r=0;r<m.length;r+=1){const s=get_each_context$1(a,m,r);p[r]?p[r].p(t,s):(p[r]=create_each_block$1(e,s),p[r].c(),p[r].m(l.parentNode,l))}for(;r<p.length;r+=1)p[r].d(1);p.length=m.length}var s={};t.is_loading&&(s.is_loading=a.is_loading),t.is_error&&(s.is_error=a.is_error),t.error_message&&(s.error_message=a.error_message),v._set(s)},d(e){e&&detachNode(a),d.destroy(),_&&_.d(),destroyEach(p,e),h.destroy(),f.destroy(),v.destroy()}}}function create_if_block_1(e,t){var a,r,s={data:t.data.patient},n=new PatientDetails({root:e.root,store:e.store,data:s}),o=new Message({root:e.root,store:e.store,slots:{default:createFragment()},data:{title:"Records",color:"info"}});return{c(){(a=createElement("p")).textContent="Patient Details",r=createText("\r\n\r\n            "),n._fragment.c(),o._fragment.c(),a.className="title is-5"},m(e,t){append(o._slotted.default,a),append(o._slotted.default,r),n._mount(o._slotted.default,null),o._mount(e,t)},p(e,t){var a={};e.data&&(a.data=t.data.patient),n._set(a)},d(e){n.destroy(),o.destroy(e)}}}function create_if_block(e,t){var a,r,s,n,o,i,c,l=t.key,d=t.value;return{c(){a=createElement("p"),r=createElement("span"),s=createText(l),n=createText(": "),o=createText(d),i=createText(" "),c=createElement("br"),r.className="has-text-weight-bold is-size-4",a.className="is-size-5"},m(e,t){insert(e,a,t),append(a,r),append(r,s),append(a,n),append(a,o),insert(e,i,t),insert(e,c,t)},p(e,t){(e.Object||e.data)&&l!==(l=t.key)&&setData(s,l),(e.Object||e.data)&&d!==(d=t.value)&&setData(o,d)},d(e){e&&(detachNode(a),detachNode(i),detachNode(c))}}}function create_each_block$1(e,t){var a,r=t.value&&!t.omitted_field.includes(t.key)&&create_if_block(e,t);return{c(){r&&r.c(),a=createComment()},m(e,t){r&&r.m(e,t),insert(e,a,t)},p(t,s){s.value&&!s.omitted_field.includes(s.key)?r?r.p(t,s):((r=create_if_block(e,s)).c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&detachNode(a)}}}function ViewHistoryStatic(e){init(this,e),this._state=assign(assign(assign({Object:Object},this.store._init(["nav"])),data$1()),e.data),this.store._add(this,["nav"]),this._recompute({$nav:1,remedies:1,omitted_field:1},this._state),this._intro=!0,this._handlers.destroy=[removeFromStore],this._fragment=create_main_fragment$1(this,this._state),this.root._oncreate.push(()=>{oncreate.call(this),this.fire("update",{changed:assignTrue({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}function entityId$1({$nav:e}){return e&&e.params[0]}function has_searched({remedy_found:e}){return Object.keys(e).length}function filterFields$1({remedies:e,omitted_field:t}){let a=["built","constitution","diathesis","miasm","temperament","temperature_and_weather","thermal_sensitivity","sensation","tendency_take_cold","desires","aversions","birth_history_milestones","tissues","stages_and_states","attacks_and_side","ailments_from","affections","clinical","modalities","mental_state_and_disorders","appearance_and_behavior","attention_and_concentration","expression","consciousness","mood_and_affect","memory","speech","thoughts_and_ideas","perception","intelligence","judgment","fear_and_live_alone","boring","peaceful","anger","hobby","habit","addiction","nutrition","anaemia","cyanosis","dehydration","jaundice","pulse","breathing","peculiar_rare_symptoms"],r=[];if(e.length){for(let[s,n]of Object.entries(e[0]))a.includes(s)||t.includes(s)||r.push(s);return r.push(...a),r}}function loadSymptoms$1({remedies:e}){let t=[];for(let a in e){Object.entries(e[a]).forEach(([e,a])=>{t[e]=[]});break}for(let a in e){let r=e[a];Object.entries(r).forEach(([e,a])=>{a&&"string"==typeof a&&t[e].push(a.split(","))})}return t}function searchable_withkey({loadSymptoms:e}){let t=[],a=0;return Object.entries(e).forEach(([r,s])=>{let n=e[r];t[r]=[];for(let e in n)if(Array.isArray(n[e]))for(let s in n[e])t[r].push({id:a++,name:n[e][s]})}),t}function data$2(){return{is_loading:!1,is_error:!1,error_message:"",selected_symptom:"",selected_symp:"",selected_keyed_symp:"",result_symptoms:"",remedies:{},data:{},meta:{},remedy_found:{},omitted_field:["id","name","created","modified","deleted","patient","treatments"],tracker:{saving:!1,saved:!1,error:!1},page:{title:"View Case History",subtitle:"Case History details",icon:"building-o",icon_badge:"pencil"}}}assign(ViewHistoryStatic.prototype,proto),assign(ViewHistoryStatic.prototype,methods),ViewHistoryStatic.prototype._recompute=function(e,t){e.$nav&&this._differs(t.entityId,t.entityId=entityId(t))&&(e.entityId=!0),(e.remedies||e.omitted_field)&&this._differs(t.filterFields,t.filterFields=filterFields(t))&&(e.filterFields=!0),e.remedies&&this._differs(t.loadSymptoms,t.loadSymptoms=loadSymptoms(t))&&(e.loadSymptoms=!0)};var methods$1={select_symptom(e){this.set({selected_symptom:e})},load(){var{entityId:e}=this.get();this.set({is_loading:!0,is_error:!1}),Model&&Model.getOne(e).then(e=>{console.log(e),this.set({is_loading:!1,meta:e._meta,data:e.response})}).catch(e=>{var t="";void 0!==e&&void 0!==e.response&&void 0!==e.response.records&&(t=e.response.records.userMessage),this.set({is_error:!0,is_loading:!1,error_message:t})})},loadRemedies(){Remedies.getAll({limit:1e3}).then(e=>{this.set({remedies:e.response})}).catch(e=>{console.log(e)})},save(){var{data:e,entityId:t,tracker:a}=this.get();this.set({tracker:{saving:!0,saved:!1,error:!1}}),Model.save(t,e).then(e=>{this.set({data:e.response,tracker:{saving:!1,saved:!0,error:!1}}),setTimeout(()=>{a.saved=!1,this.set({tracker:a})},1500)}).catch(e=>{console.log(e),this.set({error_message:"There was an error updating premise"}),this.set({tracker:{saving:!1,saved:!1,error:!0}}),setTimeout(()=>{this.set({tracker:{error:!1}})},1500)})}};function oncreate$1(){var{entityId:e}=this.get();this.on("state",({changed:e,current:t,previous:a})=>{if(e.$nav){var{$nav:r}=t;"ViewHistoryEdit"==r.activeView&&this.load()}}),this.load(),this.loadRemedies()}function click_handler$1(e){const{component:t,ctx:a}=this._svelte;t.select_symptom(a.key)}function get_each2_context(e,t,a){const r=Object.create(e);return r.key=t[a],r}function get_each1_context_1(e,t,a){const r=Object.create(e);return r.key=t[a],r.index=a,r}function get_each0_context_1(e,t,a){const r=Object.create(e);return r.key=t[a],r.index=a,r}function get_each1_context(e,t,a){const r=Object.create(e);return r.key=t[a][0],r.value=t[a][1],r.i=a,r}function get_each0_context(e,t,a){const r=Object.create(e);return r.key=t[a][0],r.value=t[a][1],r.i=a,r}function create_main_fragment$2(e,t){var a,r,s,n,o,i,c,l,d=t.tracker.error&&create_if_block_6(e,t),_=!t.has_searched&&create_if_block_3(e,t),m=t.has_searched&&create_if_block_2(e,t),p=new ConfirmButton({root:e.root,store:e.store,data:{text:"Reset",color:"danger",size:"",icon:"refresh",icon_only:!1,disabled:!0}});p.on("do",function(t){e.reset(t)});var u=t.remedies.length&&create_if_block$1(e,t),h=new Panel({root:e.root,store:e.store,slots:{default:createFragment(),toolbar:createFragment()},data:{title:"Cases",has_toolbar:!0}}),f={is_loading:t.is_loading,is_error:t.is_error,error_message:t.error_message},g=new ViewScaffold({root:e.root,store:e.store,slots:{default:createFragment()},data:f});return{c(){a=createElement("div"),d&&d.c(),r=createText("\r\n    \r\n  "),_&&_.c(),s=createText("\r\n\r\n  "),m&&m.c(),n=createText("\r\n\r\n  "),o=createElement("div"),p._fragment.c(),i=createText("\r\n\r\n    "),c=createElement("div"),l=createElement("div"),u&&u.c(),h._fragment.c(),g._fragment.c(),setAttribute(o,"slot","toolbar"),l.className="column",c.className="columns",a.className="page-content"},m(e,t){insert(e,a,t),d&&d.m(g._slotted.default,null),append(g._slotted.default,r),_&&_.m(g._slotted.default,null),append(g._slotted.default,s),m&&m.m(g._slotted.default,null),append(g._slotted.default,n),append(h._slotted.toolbar,o),p._mount(o,null),append(h._slotted.default,i),append(h._slotted.default,c),append(c,l),u&&u.m(l,null),h._mount(g._slotted.default,null),g._mount(a,null)},p(t,a){a.tracker.error?d?d.p(t,a):((d=create_if_block_6(e,a)).c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null),a.has_searched?_&&(_.d(1),_=null):_?_.p(t,a):((_=create_if_block_3(e,a)).c(),_.m(s.parentNode,s)),a.has_searched?m?m.p(t,a):((m=create_if_block_2(e,a)).c(),m.m(n.parentNode,n)):m&&(m.d(1),m=null),a.remedies.length?u?u.p(t,a):((u=create_if_block$1(e,a)).c(),u.m(l,null)):u&&(u.d(1),u=null);var o={};t.is_loading&&(o.is_loading=a.is_loading),t.is_error&&(o.is_error=a.is_error),t.error_message&&(o.error_message=a.error_message),g._set(o)},d(e){e&&detachNode(a),d&&d.d(),_&&_.d(),m&&m.d(),p.destroy(),u&&u.d(),h.destroy(),g.destroy()}}}function create_if_block_6(e,t){var a,r=new Notification({root:e.root,store:e.store,slots:{default:createFragment()},data:{type:"danger"}});return{c(){a=createText(t.error_message),r._fragment.c()},m(e,t){append(r._slotted.default,a),r._mount(e,t)},p(e,t){e.error_message&&setData(a,t.error_message)},d(e){r.destroy(e)}}}function create_if_block_3(e,t){for(var a,r,s,n,o,i,c,l,d,_,m,p,u,h,f,g,v,y,b,k,x,N,E,T,w,S,$,j,F,O,V,C,H,I,D,L,A,M,P,R,z,B,K,W,q,X=!1,Y=!1,G={},J={},Q={},U=t.Object.entries(t.data),Z=[],ee=0;ee<U.length;ee+=1)Z[ee]=create_each_block_4(e,get_each0_context(t,U,ee));var te=new Message({root:e.root,store:e.store,slots:{default:createFragment()},data:{title:"Records",color:"light"}}),ae=t.Object.entries(t.data),re=[];for(ee=0;ee<ae.length;ee+=1)re[ee]=create_each_block_3(e,get_each1_context(t,ae,ee));function se(){X=!0,e.set({selected_symptom:selectValue(d)}),X=!1}function ne(){Y=!0,t.data[t.selected_symptom]=v.value,e.set({data:t.data,selected_symptom:t.selected_symptom,Object:t.Object}),Y=!1}var oe={data:t.searchable_withkey[t.selected_symptom],placeholder:"Choose...",searchKey:"name",searchValue:"id"};void 0!==t.selected_keyed_symp&&(oe._name=t.selected_keyed_symp,G._name=!0);var ie=new SearchableSelect({root:e.root,store:e.store,data:oe,_bind(t,a){var r={};!G._name&&t._name&&(r.selected_keyed_symp=a._name),e._set(r),G={}}});e.root._beforecreate.push(()=>{ie._bind({_name:1},ie.get())});var ce={data:t.searchable_symp,placeholder:"Choose...",searchKey:"name",searchValue:"id"};void 0!==t.selected_symp&&(ce._name=t.selected_symp,J._name=!0);var le=new SearchableSelect({root:e.root,store:e.store,data:ce,_bind(t,a){var r={};!J._name&&t._name&&(r.selected_symp=a._name),e._set(r),J={}}});function de(t){e.save()}e.root._beforecreate.push(()=>{le._bind({_name:1},le.get())});var _e={classes:"is-primary is-medium is-pulled-right",icon:"search",icon_size:"small",text:"Search"};void 0!==t.disabled&&(_e.disabled=t.disabled,Q.disabled=!0),void 0!==t.tracker&&(_e.tracker=t.tracker,Q.tracker=!0);var me=new SubmitButton({root:e.root,store:e.store,data:_e,_bind(t,a){var r={};!Q.disabled&&t.disabled&&(r.disabled=a.disabled),!Q.tracker&&t.tracker&&(r.tracker=a.tracker),e._set(r),Q={}}});e.root._beforecreate.push(()=>{me._bind({disabled:1,tracker:1},me.get())});var pe=new Panel({root:e.root,store:e.store,slots:{default:createFragment()},data:{title:"Patient Symptoms",has_toolbar:!0}});function ue(t){e.search(t)}return{c(){a=createElement("form"),r=createElement("div"),s=createElement("div");for(var X=0;X<Z.length;X+=1)Z[X].c();n=createComment(),te._fragment.c(),o=createText("\r\n          \r\n          "),i=createElement("div"),c=createElement("div"),l=createElement("span"),d=createElement("select"),(_=createElement("option")).textContent="Select Type";for(X=0;X<re.length;X+=1)re[X].c();m=createText("\r\n\r\n            "),p=createElement("div"),u=createElement("p"),h=createElement("label"),f=createText(t.selected_symptom),g=createText("\r\n                "),v=createElement("textarea"),b=createText("\r\n          "),k=createElement("div"),(x=createElement("p")).textContent="Suggestions",N=createText("\r\n\r\n            "),E=createElement("div"),T=createElement("p"),w=createElement("label"),S=createText(t.selected_symptom),$=createText(" Symptoms in the System"),j=createText("\r\n                  "),ie._fragment.c(),F=createText("\r\n\r\n            "),O=createElement("div"),V=createElement("p"),(C=createElement("label")).textContent="All Symptoms in the System",H=createText("\r\n                  "),le._fragment.c(),I=createText("\r\n            "),D=createElement("div"),L=createElement("p"),(A=createElement("label")).textContent=" ",M=createText("\r\n                "),(P=createElement("button")).innerHTML='<span class="icon"><i class="fa fa-save"></i></span>\n\t\t\t                  <span>Save only</span>',R=createText("\r\n              \r\n              "),z=createElement("p"),(B=createElement("label")).textContent=" ",K=createText("\r\n                "),me._fragment.c(),pe._fragment.c(),W=createText("\r\n      "),q=createElement("br"),s.className="column",_.__value="",_.value=_.__value,addListener(d,"change",se),"selected_symptom"in t||e.root._beforecreate.push(se),d.className="input",l.className="select is-fullwidth",c.className="field",h.className="label",setStyle(h,"text-transform","capitalize"),addListener(v,"input",ne),v.className="textarea",v.placeholder=y=t.selected_symptom+"...",setStyle(v,"height","15rem"),u.className="control",p.className="field",i.className="column",x.className="title is-5",w.className="label",setStyle(w,"text-transform","capitalize"),T.className="control",E.className="field",C.className="label",setStyle(C,"text-transform","capitalize"),V.className="control",O.className="field",A.className="label",addListener(P,"click",de),P.type="button",P.className="button is-primary is-medium",P.disabled="disabled",L.className="control",B.className="label",z.className="control",D.className="field is-grouped is-pulled-right",k.className="column",r.className="columns",addListener(a,"submit",ue)},m(e,y){insert(e,a,y),append(pe._slotted.default,r),append(r,s);for(var X=0;X<Z.length;X+=1)Z[X].m(te._slotted.default,null);append(te._slotted.default,n),te._mount(s,null),append(r,o),append(r,i),append(i,c),append(c,l),append(l,d),append(d,_);for(X=0;X<re.length;X+=1)re[X].m(d,null);selectOption(d,t.selected_symptom),append(i,m),append(i,p),append(p,u),append(u,h),append(h,f),append(u,g),append(u,v),v.value=t.data[t.selected_symptom],append(r,b),append(r,k),append(k,x),append(k,N),append(k,E),append(E,T),append(T,w),append(w,S),append(w,$),append(T,j),ie._mount(T,null),append(k,F),append(k,O),append(O,V),append(V,C),append(V,H),le._mount(V,null),append(k,I),append(k,D),append(D,L),append(L,A),append(L,M),append(L,P),append(D,R),append(D,z),append(z,B),append(z,K),me._mount(z,null),pe._mount(a,null),insert(e,W,y),insert(e,q,y)},p(a,r){if(t=r,a.Object||a.data||a.omitted_field){U=t.Object.entries(t.data);for(var s=0;s<U.length;s+=1){const r=get_each0_context(t,U,s);Z[s]?Z[s].p(a,r):(Z[s]=create_each_block_4(e,r),Z[s].c(),Z[s].m(n.parentNode,n))}for(;s<Z.length;s+=1)Z[s].d(1);Z.length=U.length}if(a.omitted_field||a.Object||a.data){ae=t.Object.entries(t.data);for(s=0;s<ae.length;s+=1){const r=get_each1_context(t,ae,s);re[s]?re[s].p(a,r):(re[s]=create_each_block_3(e,r),re[s].c(),re[s].m(d,null))}for(;s<re.length;s+=1)re[s].d(1);re.length=ae.length}!X&&a.selected_symptom&&selectOption(d,t.selected_symptom),a.selected_symptom&&setData(f,t.selected_symptom),Y||!a.data&&!a.selected_symptom||(v.value=t.data[t.selected_symptom]),a.selected_symptom&&y!==(y=t.selected_symptom+"...")&&(v.placeholder=y),a.selected_symptom&&setData(S,t.selected_symptom);var o={};(a.searchable_withkey||a.selected_symptom)&&(o.data=t.searchable_withkey[t.selected_symptom]),!G._name&&a.selected_keyed_symp&&(o._name=t.selected_keyed_symp,G._name=void 0!==t.selected_keyed_symp),ie._set(o),G={};var i={};a.searchable_symp&&(i.data=t.searchable_symp),!J._name&&a.selected_symp&&(i._name=t.selected_symp,J._name=void 0!==t.selected_symp),le._set(i),J={};var c={};!Q.disabled&&a.disabled&&(c.disabled=t.disabled,Q.disabled=void 0!==t.disabled),!Q.tracker&&a.tracker&&(c.tracker=t.tracker,Q.tracker=void 0!==t.tracker),me._set(c),Q={}},d(e){e&&detachNode(a),destroyEach(Z,e),te.destroy(),destroyEach(re,e),removeListener(d,"change",se),removeListener(v,"input",ne),ie.destroy(),le.destroy(),removeListener(P,"click",de),me.destroy(),pe.destroy(),removeListener(a,"submit",ue),e&&(detachNode(W),detachNode(q))}}}function create_if_block_5(e,t){var a,r,s,n,o,i,c,l=t.key,d=t.value;return{c(){a=createElement("p"),r=createElement("span"),s=createText(l),n=createText(": "),o=createText(d),i=createText(" "),c=createElement("br"),r.className="has-text-weight-bold is-size-5"},m(e,t){insert(e,a,t),append(a,r),append(r,s),append(a,n),append(a,o),insert(e,i,t),insert(e,c,t)},p(e,t){(e.Object||e.data)&&l!==(l=t.key)&&setData(s,l),(e.Object||e.data)&&d!==(d=t.value)&&setData(o,d)},d(e){e&&(detachNode(a),detachNode(i),detachNode(c))}}}function create_each_block_4(e,t){var a,r=t.value&&!t.omitted_field.includes(t.key)&&create_if_block_5(e,t);return{c(){r&&r.c(),a=createComment()},m(e,t){r&&r.m(e,t),insert(e,a,t)},p(t,s){s.value&&!s.omitted_field.includes(s.key)?r?r.p(t,s):((r=create_if_block_5(e,s)).c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&detachNode(a)}}}function create_if_block_4(e,t){var a,r,s,n=t.key;return{c(){a=createElement("option"),r=createText(n),a.__value=s=t.key,a.value=a.__value},m(e,t){insert(e,a,t),append(a,r)},p(e,t){(e.Object||e.data)&&n!==(n=t.key)&&setData(r,n),(e.Object||e.data)&&s!==(s=t.key)&&(a.__value=s),a.value=a.__value},d(e){e&&detachNode(a)}}}function create_each_block_3(e,t){var a,r=!t.omitted_field.includes(t.key)&&create_if_block_4(e,t);return{c(){r&&r.c(),a=createComment()},m(e,t){r&&r.m(e,t),insert(e,a,t)},p(t,s){s.omitted_field.includes(s.key)?r&&(r.d(1),r=null):r?r.p(t,s):((r=create_if_block_4(e,s)).c(),r.m(a.parentNode,a))},d(e){r&&r.d(e),e&&detachNode(a)}}}function create_if_block_2(e,t){var a,r,s={},n={field_name:t.field_name,result_symptoms:t.result_symptoms};void 0!==t.tracker&&(n.tracker=t.tracker,s.tracker=!0),void 0!==t.remedy_found&&(n.remedy_found=t.remedy_found,s.remedy_found=!0);var o=new RemedyFound({root:e.root,store:e.store,data:n,_bind(t,a){var r={};!s.tracker&&t.tracker&&(r.tracker=a.tracker),!s.remedy_found&&t.remedy_found&&(r.remedy_found=a.remedy_found),e._set(r),s={}}});return e.root._beforecreate.push(()=>{o._bind({tracker:1,remedy_found:1},o.get())}),o.on("back",function(t){e.back()}),o.on("showSymptoms",function(t){e.fire("showSymptoms",t)}),o.on("saveHistory",function(t){e.saveHistory()}),{c(){o._fragment.c(),a=createText("\r\n  "),r=createElement("br")},m(e,t){o._mount(e,t),insert(e,a,t),insert(e,r,t)},p(e,a){t=a;var r={};e.field_name&&(r.field_name=t.field_name),e.result_symptoms&&(r.result_symptoms=t.result_symptoms),!s.tracker&&e.tracker&&(r.tracker=t.tracker,s.tracker=void 0!==t.tracker),!s.remedy_found&&e.remedy_found&&(r.remedy_found=t.remedy_found,s.remedy_found=void 0!==t.remedy_found),o._set(r),s={}},d(e){o.destroy(e),e&&(detachNode(a),detachNode(r))}}}function create_if_block$1(e,t){for(var a,r,s,n,o,i,c,l,d,_,m,p,u,h,f,g,v,y,b,k,x=!1,N=!1,E=t.filterFields,T=[],w=0;w<E.length;w+=1)T[w]=create_each_block_2(e,get_each0_context_1(t,E,w));function S(){x=!0,e.set({selected_symptom:selectValue(c)}),x=!1}var $=t.filterFields,j=[];for(w=0;w<$.length;w+=1)j[w]=create_each_block_1(e,get_each1_context_1(t,$,w));function F(){N=!0,e.set({selected_symptom:selectValue(f)}),N=!1}var O=t.filterFields,V=[];for(w=0;w<O.length;w+=1)V[w]=create_each_block$2(e,get_each2_context(t,O,w));return{c(){a=createElement("div"),r=createElement("div"),(s=createElement("label")).textContent="With Number",n=createText("\r\n            "),o=createElement("div"),i=createElement("span"),c=createElement("select"),(l=createElement("option")).textContent="Select Type";for(var x=0;x<T.length;x+=1)T[x].c();d=createText("\r\n          "),_=createElement("div"),(m=createElement("label")).textContent="Without Number",p=createText("\r\n            "),u=createElement("div"),h=createElement("span"),f=createElement("select"),(g=createElement("option")).textContent="Select Type";for(x=0;x<j.length;x+=1)j[x].c();v=createText("\r\n\r\n        "),y=createElement("div"),b=createElement("div"),k=createElement("div");for(x=0;x<V.length;x+=1)V[x].c();s.className="label",l.__value="",l.value=l.__value,addListener(c,"change",S),"selected_symptom"in t||e.root._beforecreate.push(S),c.className="input",i.className="select is-fullwidth",o.className="field",r.className="column",m.className="label",g.__value="",g.value=g.__value,addListener(f,"change",F),"selected_symptom"in t||e.root._beforecreate.push(F),f.className="input",h.className="select is-fullwidth",u.className="field",_.className="column",a.className="columns",k.className="buttons",b.className="column",y.className="columns"},m(e,x){insert(e,a,x),append(a,r),append(r,s),append(r,n),append(r,o),append(o,i),append(i,c),append(c,l);for(var N=0;N<T.length;N+=1)T[N].m(c,null);selectOption(c,t.selected_symptom),append(a,d),append(a,_),append(_,m),append(_,p),append(_,u),append(u,h),append(h,f),append(f,g);for(N=0;N<j.length;N+=1)j[N].m(f,null);selectOption(f,t.selected_symptom),insert(e,v,x),insert(e,y,x),append(y,b),append(b,k);for(N=0;N<V.length;N+=1)V[N].m(k,null)},p(t,a){if(t.filterFields){E=a.filterFields;for(var r=0;r<E.length;r+=1){const s=get_each0_context_1(a,E,r);T[r]?T[r].p(t,s):(T[r]=create_each_block_2(e,s),T[r].c(),T[r].m(c,null))}for(;r<T.length;r+=1)T[r].d(1);T.length=E.length}if(!x&&t.selected_symptom&&selectOption(c,a.selected_symptom),t.filterFields){$=a.filterFields;for(r=0;r<$.length;r+=1){const s=get_each1_context_1(a,$,r);j[r]?j[r].p(t,s):(j[r]=create_each_block_1(e,s),j[r].c(),j[r].m(f,null))}for(;r<j.length;r+=1)j[r].d(1);j.length=$.length}if(!N&&t.selected_symptom&&selectOption(f,a.selected_symptom),t.filterFields||t.selected_symptom||t.data){O=a.filterFields;for(r=0;r<O.length;r+=1){const s=get_each2_context(a,O,r);V[r]?V[r].p(t,s):(V[r]=create_each_block$2(e,s),V[r].c(),V[r].m(k,null))}for(;r<V.length;r+=1)V[r].d(1);V.length=O.length}},d(e){e&&detachNode(a),destroyEach(T,e),removeListener(c,"change",S),destroyEach(j,e),removeListener(f,"change",F),e&&(detachNode(v),detachNode(y)),destroyEach(V,e)}}}function create_each_block_2(e,t){var a,r,s,n,o,i=t.index+1,c=t.key;return{c(){a=createElement("option"),r=createText(i),s=createText(" - "),n=createText(c),a.__value=o=t.key,a.value=a.__value},m(e,t){insert(e,a,t),append(a,r),append(a,s),append(a,n)},p(e,t){e.filterFields&&c!==(c=t.key)&&setData(n,c),e.filterFields&&o!==(o=t.key)&&(a.__value=o),a.value=a.__value},d(e){e&&detachNode(a)}}}function create_each_block_1(e,t){var a,r,s,n=t.key;return{c(){a=createElement("option"),r=createText(n),a.__value=s=t.key,a.value=a.__value},m(e,t){insert(e,a,t),append(a,r)},p(e,t){e.filterFields&&n!==(n=t.key)&&setData(r,n),e.filterFields&&s!==(s=t.key)&&(a.__value=s),a.value=a.__value},d(e){e&&detachNode(a)}}}function create_if_block_1$1(e,t){var a;return{c(){(a=createElement("span")).innerHTML='<i class="fa fa-check"></i>',a.className="icon is-small"},m(e,t){insert(e,a,t)},d(e){e&&detachNode(a)}}}function create_each_block$2(e,t){var a,r,s,n,o,i,c=t.key,l=t.data[t.key]&&create_if_block_1$1(e,t);return{c(){a=createElement("button"),l&&l.c(),r=createText("\r\n                    "),s=createElement("span"),n=createText(c),o=createText("\r\n                  "),a._svelte={component:e,ctx:t},addListener(a,"click",click_handler$1),a.type="button",a.className=i="button is-medium is-"+(t.key==t.selected_symptom?"success":t.data[t.key]?"":"info")+" ",setStyle(a,"text-transform","capitalize"),setStyle(a,"margin-left",".6rem"),setStyle(a,"margin-bottom",".6rem")},m(e,t){insert(e,a,t),l&&l.m(a,null),append(a,r),append(a,s),append(s,n),append(a,o)},p(s,o){(t=o).data[t.key]?l||((l=create_if_block_1$1(e,t)).c(),l.m(a,r)):l&&(l.d(1),l=null),s.filterFields&&c!==(c=t.key)&&setData(n,c),a._svelte.ctx=t,(s.filterFields||s.selected_symptom||s.data)&&i!==(i="button is-medium is-"+(t.key==t.selected_symptom?"success":t.data[t.key]?"":"info")+" ")&&(a.className=i)},d(e){e&&detachNode(a),l&&l.d(),removeListener(a,"click",click_handler$1)}}}function ViewHistoryEdit(e){init(this,e),this._state=assign(assign(assign({Object:Object},this.store._init(["nav"])),data$2()),e.data),this.store._add(this,["nav"]),this._recompute({$nav:1,remedy_found:1,remedies:1,omitted_field:1,loadSymptoms:1},this._state),this._intro=!0,this._handlers.destroy=[removeFromStore],this._fragment=create_main_fragment$2(this,this._state),this.root._oncreate.push(()=>{oncreate$1.call(this),this.fire("update",{changed:assignTrue({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}function entityId$2({$nav:e}){return e&&e.params[0]}function data$3(){return{is_loading:!1,is_error:!1,error_message:"",pane_height:500,data:{},meta:{},tracker:{saving:!1,saved:!1,error:!1},page:{title:"View Case History",subtitle:"Case History details",icon:"building-o",icon_badge:"pencil"},active_tab:"static_view",tabs:[{icon:"info-circle",name:"static_view",title:"Static"},{icon:"pencil",name:"edit_view",title:"Edit Case History"}]}}assign(ViewHistoryEdit.prototype,proto),assign(ViewHistoryEdit.prototype,methods$1),ViewHistoryEdit.prototype._recompute=function(e,t){e.$nav&&this._differs(t.entityId,t.entityId=entityId$1(t))&&(e.entityId=!0),e.remedy_found&&this._differs(t.has_searched,t.has_searched=has_searched(t))&&(e.has_searched=!0),(e.remedies||e.omitted_field)&&this._differs(t.filterFields,t.filterFields=filterFields$1(t))&&(e.filterFields=!0),e.remedies&&this._differs(t.loadSymptoms,t.loadSymptoms=loadSymptoms$1(t))&&(e.loadSymptoms=!0),e.loadSymptoms&&this._differs(t.searchable_withkey,t.searchable_withkey=searchable_withkey(t))&&(e.searchable_withkey=!0)};var methods$2={};function oncreate$2(){this.on("heightChange",({height:e})=>{this.set({pane_height:e})});var{entityId:e}=this.get();this.on("state",({changed:e,current:t,previous:a})=>{console.log(t)})}function create_main_fragment$3(e,t){var a,r,s,n,o,i,c,l,d={},_=new Icon({root:e.root,store:e.store,data:{icon:"long-arrow-left",size:"small"}}),m={page:t.page},p=new PageTitle({root:e.root,store:e.store,slots:{default:createFragment()},data:m}),u={tabs:t.tabs};void 0!==t.active_tab&&(u.active_tab=t.active_tab,d.active_tab=!0);var h=new Tabs({root:e.root,store:e.store,data:u,_bind(t,a){var r={};!d.active_tab&&t.active_tab&&(r.active_tab=a.active_tab),e._set(r),d={}}});e.root._beforecreate.push(()=>{h._bind({active_tab:1},h.get())});var f="static_view"==t.active_tab&&create_if_block_1$2(e,t),g="edit_view"==t.active_tab&&create_if_block$2(e,t),v={is_loading:t.is_loading,is_error:t.is_error,error_message:t.error_message,class:"has-fullpage-tabs has-multilevel-tabs"},y=new ViewScaffold({root:e.root,store:e.store,slots:{default:createFragment()},data:v});return{c(){a=createElement("div"),r=createElement("a"),_._fragment.c(),s=createText("\r\n      "),(n=createElement("span")).textContent="Back to All Histories",p._fragment.c(),o=createText("\r\n\r\n  "),h._fragment.c(),i=createText("\r\n\r\n    \r\n        \r\n        "),f&&f.c(),c=createText("\r\n      \r\n        \r\n        "),g&&g.c(),l=createComment(),y._fragment.c(),r.className="button is-info is-pulled-right",r.href="#history",a.className="page-content"},m(e,t){insert(e,a,t),append(p._slotted.default,r),_._mount(r,null),append(r,s),append(r,n),p._mount(a,null),append(a,o),h._mount(y._slotted.default,null),append(y._slotted.default,i),f&&f.m(y._slotted.default,null),append(y._slotted.default,c),g&&g.m(y._slotted.default,null),append(y._slotted.default,l),y._mount(a,null)},p(a,r){t=r;var s={};a.page&&(s.page=t.page),p._set(s);var n={};a.tabs&&(n.tabs=t.tabs),!d.active_tab&&a.active_tab&&(n.active_tab=t.active_tab,d.active_tab=void 0!==t.active_tab),h._set(n),d={},"static_view"==t.active_tab?f?f.p(a,t):((f=create_if_block_1$2(e,t)).c(),f.m(c.parentNode,c)):f&&(f.d(1),f=null),"edit_view"==t.active_tab?g?g.p(a,t):((g=create_if_block$2(e,t)).c(),g.m(l.parentNode,l)):g&&(g.d(1),g=null);var o={};a.is_loading&&(o.is_loading=t.is_loading),a.is_error&&(o.is_error=t.is_error),a.error_message&&(o.error_message=t.error_message),y._set(o)},d(e){e&&detachNode(a),_.destroy(),p.destroy(),h.destroy(),f&&f.d(),g&&g.d(),y.destroy()}}}function create_if_block_1$2(e,t){var a={},r={};void 0!==t.is_error&&(r.is_error=t.is_error,a.is_error=!0),void 0!==t.error_message&&(r.error_message=t.error_message,a.error_message=!0);var s=new ViewHistoryStatic({root:e.root,store:e.store,data:r,_bind(t,r){var s={};!a.is_error&&t.is_error&&(s.is_error=r.is_error),!a.error_message&&t.error_message&&(s.error_message=r.error_message),e._set(s),a={}}});return e.root._beforecreate.push(()=>{s._bind({is_error:1,error_message:1},s.get())}),{c(){s._fragment.c()},m(e,t){s._mount(e,t)},p(e,r){t=r;var n={};!a.is_error&&e.is_error&&(n.is_error=t.is_error,a.is_error=void 0!==t.is_error),!a.error_message&&e.error_message&&(n.error_message=t.error_message,a.error_message=void 0!==t.error_message),s._set(n),a={}},d(e){s.destroy(e)}}}function create_if_block$2(e,t){var a={},r={};void 0!==t.is_error&&(r.is_error=t.is_error,a.is_error=!0),void 0!==t.error_message&&(r.error_message=t.error_message,a.error_message=!0);var s=new ViewHistoryEdit({root:e.root,store:e.store,data:r,_bind(t,r){var s={};!a.is_error&&t.is_error&&(s.is_error=r.is_error),!a.error_message&&t.error_message&&(s.error_message=r.error_message),e._set(s),a={}}});return e.root._beforecreate.push(()=>{s._bind({is_error:1,error_message:1},s.get())}),{c(){s._fragment.c()},m(e,t){s._mount(e,t)},p(e,r){t=r;var n={};!a.is_error&&e.is_error&&(n.is_error=t.is_error,a.is_error=void 0!==t.is_error),!a.error_message&&e.error_message&&(n.error_message=t.error_message,a.error_message=void 0!==t.error_message),s._set(n),a={}},d(e){s.destroy(e)}}}function ViewHistory(e){init(this,e),this._state=assign(assign(this.store._init(["nav"]),data$3()),e.data),this.store._add(this,["nav"]),this._recompute({$nav:1},this._state),this._intro=!0,this._handlers.destroy=[removeFromStore],this._fragment=create_main_fragment$3(this,this._state),this.root._oncreate.push(()=>{oncreate$2.call(this),this.fire("update",{changed:assignTrue({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}assign(ViewHistory.prototype,proto),assign(ViewHistory.prototype,methods$2),ViewHistory.prototype._recompute=function(e,t){e.$nav&&this._differs(t.entityId,t.entityId=entityId$2(t))&&(e.entityId=!0)};export default ViewHistory;
//# sourceMappingURL=ViewHistory.js.map
