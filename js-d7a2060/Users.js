var K_ENV="prod",K_ENV_DEV="dev",K_ENV_TEST="test",K_ENV_PROD="prod";import{a as append,b as assign,d as createElement,f as createText,g as detachNode,h as flush,i as init,j as insert,l as proto,C as setStyle,n as Icon,e as createFragment,y as setAttribute,q as ViewScaffold,r as PageTitle}from"./chunk-4772d5c0.js";import{a as Model}from"./chunk-279ff543.js";import{a as DataList}from"./chunk-988ddd89.js";import"./chunk-5811b7a5.js";import"./chunk-ec71f95d.js";import"./chunk-97880b15.js";function data(){return{row:{},isVisible:{},transforms:{},classNames:{},styles:{}}}function create_main_fragment(e,r){var s,t,a,o,i,n,l,m,c=r.isVisible("link")&&create_if_block_5(e,r),d=r.isVisible("img")&&create_if_block_3(e,r),_=r.isVisible("title")&&create_if_block_2(e,r),u=r.isVisible("subtitle")&&create_if_block_1(e,r),f=r.isVisible("description")&&create_if_block(e,r);return{c(){s=createElement("div"),t=createElement("div"),c&&c.c(),a=createText("\r\n    "),o=createElement("div"),d&&d.c(),i=createText("\r\n      "),n=createElement("div"),_&&_.c(),l=createText("\r\n        "),u&&u.c(),m=createText("\r\n        "),f&&f.c(),n.className="media-content",o.className="media",t.className="card-content svelte-16vbeo0",s.className="card",s.dataset.cy="card-item"},m(e,r){insert(e,s,r),append(s,t),c&&c.m(t,null),append(t,a),append(t,o),d&&d.m(o,null),append(o,i),append(o,n),_&&_.m(n,null),append(n,l),u&&u.m(n,null),append(n,m),f&&f.m(n,null)},p(r,s){s.isVisible("link")?c?c.p(r,s):((c=create_if_block_5(e,s)).c(),c.m(t,a)):c&&(c.d(1),c=null),s.isVisible("img")?d?d.p(r,s):((d=create_if_block_3(e,s)).c(),d.m(o,i)):d&&(d.d(1),d=null),s.isVisible("title")?_?_.p(r,s):((_=create_if_block_2(e,s)).c(),_.m(n,l)):_&&(_.d(1),_=null),s.isVisible("subtitle")?u?u.p(r,s):((u=create_if_block_1(e,s)).c(),u.m(n,m)):u&&(u.d(1),u=null),s.isVisible("description")?f?f.p(r,s):((f=create_if_block(e,s)).c(),f.m(n,null)):f&&(f.d(1),f=null)},d(e){e&&detachNode(s),c&&c.d(),d&&d.d(),_&&_.d(),u&&u.d(),f&&f.d()}}}function create_if_block_5(e,r){var s,t,a,o,i=new Icon({root:e.root,store:e.store,data:{size:"small",icon:"pencil"}});return{c(){s=createElement("a"),i._fragment.c(),s.className=t="edit-icon "+r.classNames("link",r.row)+" svelte-16vbeo0",s.href=a=r.transforms("link",r.row),s.style.cssText=o=r.styles("link",r.row),s.dataset.cy="edit-icon"},m(e,r){insert(e,s,r),i._mount(s,null)},p(e,r){(e.classNames||e.row)&&t!==(t="edit-icon "+r.classNames("link",r.row)+" svelte-16vbeo0")&&(s.className=t),(e.transforms||e.row)&&a!==(a=r.transforms("link",r.row))&&(s.href=a),(e.styles||e.row)&&o!==(o=r.styles("link",r.row))&&(s.style.cssText=o)},d(e){e&&detachNode(s),i.destroy()}}}function create_if_block_3(e,r){var s;function t(e){return e.transforms("icon",e.row)?create_if_block_4:create_else_block}var a=t(r),o=a(e,r);return{c(){s=createElement("div"),o.c(),s.className="media-left"},m(e,r){insert(e,s,r),o.m(s,null)},p(r,i){a===(a=t(i))&&o?o.p(r,i):(o.d(1),(o=a(e,i)).c(),o.m(s,null))},d(e){e&&detachNode(s),o.d()}}}function create_else_block(e,r){var s,t,a,o,i;return{c(){s=createElement("figure"),(t=createElement("img")).src=a=r.transforms("img",r.row),t.alt="",t.style.cssText=o=r.styles("img",r.row),t.className=i=r.classNames("img",r.row)+" svelte-16vbeo0",s.className="image is-64x64"},m(e,r){insert(e,s,r),append(s,t)},p(e,r){(e.transforms||e.row)&&a!==(a=r.transforms("img",r.row))&&(t.src=a),(e.styles||e.row)&&o!==(o=r.styles("img",r.row))&&(t.style.cssText=o),(e.classNames||e.row)&&i!==(i=r.classNames("img",r.row)+" svelte-16vbeo0")&&(t.className=i)},d(e){e&&detachNode(s)}}}function create_if_block_4(e,r){var s={icon:r.transforms("icon",r.row),size:"large"},t=new Icon({root:e.root,store:e.store,data:s});return{c(){t._fragment.c()},m(e,r){t._mount(e,r)},p(e,r){var s={};(e.transforms||e.row)&&(s.icon=r.transforms("icon",r.row)),t._set(s)},d(e){t.destroy(e)}}}function create_if_block_2(e,r){var s,t,a,o=r.transforms("title",r.row);return{c(){(s=createElement("p")).className=t=r.classNames("title",r.row)+" svelte-16vbeo0",s.style.cssText=a=r.styles("title",r.row)},m(e,r){insert(e,s,r),s.innerHTML=o},p(e,r){(e.transforms||e.row)&&o!==(o=r.transforms("title",r.row))&&(s.innerHTML=o),(e.classNames||e.row)&&t!==(t=r.classNames("title",r.row)+" svelte-16vbeo0")&&(s.className=t),(e.styles||e.row)&&a!==(a=r.styles("title",r.row))&&(s.style.cssText=a)},d(e){e&&detachNode(s)}}}function create_if_block_1(e,r){var s,t,a=r.transforms("subtitle",r.row);return{c(){(s=createElement("p")).className=t=r.classNames("subtitle",r.row)+" svelte-16vbeo0",setStyle(s,"margin-bottom","1px"+r.styles("subtitle",r.row))},m(e,r){insert(e,s,r),s.innerHTML=a},p(e,r){(e.transforms||e.row)&&a!==(a=r.transforms("subtitle",r.row))&&(s.innerHTML=a),(e.classNames||e.row)&&t!==(t=r.classNames("subtitle",r.row)+" svelte-16vbeo0")&&(s.className=t),(e.styles||e.row)&&setStyle(s,"margin-bottom","1px"+r.styles("subtitle",r.row))},d(e){e&&detachNode(s)}}}function create_if_block(e,r){var s,t,a,o,i=r.transforms("description",r.row);return{c(){s=createElement("p"),(t=createElement("small")).className=a=r.classNames("description",r.row)+" svelte-16vbeo0",t.style.cssText=o=r.styles("description",r.row)},m(e,r){insert(e,s,r),append(s,t),t.innerHTML=i},p(e,r){(e.transforms||e.row)&&i!==(i=r.transforms("description",r.row))&&(t.innerHTML=i),(e.classNames||e.row)&&a!==(a=r.classNames("description",r.row)+" svelte-16vbeo0")&&(t.className=a),(e.styles||e.row)&&o!==(o=r.styles("description",r.row))&&(t.style.cssText=o)},d(e){e&&detachNode(s)}}}function TileViewItem(e){init(this,e),this._state=assign(data(),e.data),this._intro=!0,this._fragment=create_main_fragment(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}function data$1(){return{tileItemComponent:TileViewItem,is_loading:!0,is_error:!1,error_message:"",meta:{},data:[],Model:Model,View:"Users",entity_name:"Users",route_prefix:"users/",has_additional_buttons:!0,search_placeholder:"Name, surname or email",columns:"",page:{title:"Users",icon:"vcard-o",subtitle:"All users in the system"},searchStringTransformer:e=>{var r=e.split("~"),s=[];""!=r[0]&&s.push("name[lk]:"+r[0]+",surname[lk]|:"+r[0]+",email[lk]|:"+r[0]+",username[lk]|:"+r[0]),r.shift();for(var t=0;t<r.length;t++){var a=r[t],o=a.split(":");""!=a&&void 0!==o[1]&&""!=o[1]&&s.push(o[0]+"[eq]:"+o[1])}return s.join(",")},valueTransformers:{title:(e,r)=>(r.surname||(r.surname=""),r.name+" "+r.surname),subtitle:(e,r)=>r.username,description(e,r){var s={SA:"Administrator",SU:"User"};return s[r.role]?s[r.role]:""},link:(e,r)=>"#users/view/"+r.id,img:(e,r)=>r.avatarurl,icon:(e,r)=>!1},classTransformers:{subtitle:()=>"subtitle is-6"},styleTransformers:{}}}function create_main_fragment$1(e,r){var s,t,a,o,i,n={},l={page:r.page},m=new PageTitle({root:e.root,store:e.store,data:l}),c=new Icon({root:e.root,store:e.store,data:{size:"small",icon:"plus-circle"}}),d={view_type:"tile",per_row:"3",Model:r.Model,View:r.View,entity_name:r.entity_name,route_prefix:r.route_prefix,has_additional_buttons:r.has_additional_buttons,search_placeholder:r.search_placeholder,columns:r.columns,searchStringTransformer:r.searchStringTransformer,valueTransformers:r.valueTransformers,classTransformers:r.classTransformers,styleTransformers:r.styleTransformers,tileItemComponent:r.tileItemComponent};void 0!==r.is_loading&&(d.is_loading=r.is_loading,n.is_loading=!0),void 0!==r.is_error&&(d.is_error=r.is_error,n.is_error=!0),void 0!==r.error_message&&(d.error_message=r.error_message,n.error_message=!0),void 0!==r.data&&(d.data=r.data,n.data=!0),void 0!==r.meta&&(d.meta=r.meta,n.meta=!0);var _=new DataList({root:e.root,store:e.store,slots:{default:createFragment(),additionalButtons:createFragment()},data:d,_bind(r,s){var t={};!n.is_loading&&r.is_loading&&(t.is_loading=s.is_loading),!n.is_error&&r.is_error&&(t.is_error=s.is_error),!n.error_message&&r.error_message&&(t.error_message=s.error_message),!n.data&&r.data&&(t.data=s.data),!n.meta&&r.meta&&(t.meta=s.meta),e._set(t),n={}}});e.root._beforecreate.push(()=>{_._bind({is_loading:1,is_error:1,error_message:1,data:1,meta:1},_.get())});var u={is_loading:r.is_loading,is_error:r.is_error,error_message:r.error_message},f=new ViewScaffold({root:e.root,store:e.store,slots:{default:createFragment()},data:u});return{c(){s=createElement("div"),m._fragment.c(),t=createText("\r\n\r\n  "),a=createElement("a"),c._fragment.c(),o=createText(" "),(i=createElement("span")).textContent="Add User",_._fragment.c(),f._fragment.c(),setAttribute(a,"slot","additionalButtons"),a.href="#users/add",a.className="button is-success",a.dataset.cy="add-user",s.className="page-content"},m(e,r){insert(e,s,r),m._mount(s,null),append(s,t),append(_._slotted.additionalButtons,a),c._mount(a,null),append(a,o),append(a,i),_._mount(f._slotted.default,null),f._mount(s,null)},p(e,s){r=s;var t={};e.page&&(t.page=r.page),m._set(t);var a={};e.Model&&(a.Model=r.Model),e.View&&(a.View=r.View),e.entity_name&&(a.entity_name=r.entity_name),e.route_prefix&&(a.route_prefix=r.route_prefix),e.has_additional_buttons&&(a.has_additional_buttons=r.has_additional_buttons),e.search_placeholder&&(a.search_placeholder=r.search_placeholder),e.columns&&(a.columns=r.columns),e.searchStringTransformer&&(a.searchStringTransformer=r.searchStringTransformer),e.valueTransformers&&(a.valueTransformers=r.valueTransformers),e.classTransformers&&(a.classTransformers=r.classTransformers),e.styleTransformers&&(a.styleTransformers=r.styleTransformers),e.tileItemComponent&&(a.tileItemComponent=r.tileItemComponent),!n.is_loading&&e.is_loading&&(a.is_loading=r.is_loading,n.is_loading=void 0!==r.is_loading),!n.is_error&&e.is_error&&(a.is_error=r.is_error,n.is_error=void 0!==r.is_error),!n.error_message&&e.error_message&&(a.error_message=r.error_message,n.error_message=void 0!==r.error_message),!n.data&&e.data&&(a.data=r.data,n.data=void 0!==r.data),!n.meta&&e.meta&&(a.meta=r.meta,n.meta=void 0!==r.meta),_._set(a),n={};var o={};e.is_loading&&(o.is_loading=r.is_loading),e.is_error&&(o.is_error=r.is_error),e.error_message&&(o.error_message=r.error_message),f._set(o)},d(e){e&&detachNode(s),m.destroy(),c.destroy(),_.destroy(),f.destroy()}}}function Users(e){init(this,e),this._state=assign(data$1(),e.data),this._intro=!0,this._fragment=create_main_fragment$1(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),flush(this))}assign(TileViewItem.prototype,proto),assign(Users.prototype,proto);export default Users;
//# sourceMappingURL=Users.js.map
